function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _URL,_document$referrer,_document,_pathname$split;function _regeneratorRuntime(){_regeneratorRuntime=function(){return i};var s,i={},e=Object.prototype,c=e.hasOwnProperty,u=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",o=t.toStringTag||"@@toStringTag";function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(s){a=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o,a,i,l,t=t&&t.prototype instanceof h?t:h,t=Object.create(t.prototype),r=new I(r||[]);return u(t,"_invoke",{value:(o=e,a=n,i=r,l=f,function(e,t){if(l===y)throw Error("Generator is already running");if(l===g){if("throw"===e)throw t;return{value:s,done:!0}}for(i.method=e,i.arg=t;;){var n=i.delegate;if(n){n=function e(t,n){var r=n.method,o=t.iterator[r];if(o===s)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=s,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;r=d(o,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,p;o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=s),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}(n,i);if(n){if(n===p)continue;return n}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(l===f)throw l=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);l=y;n=d(o,a,i);if("normal"===n.type){if(l=i.done?g:m,n.arg===p)continue;return{value:n.arg,done:i.done}}"throw"===n.type&&(l=g,i.method="throw",i.arg=n.arg)}})}),t}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}i.wrap=l;var f="suspendedStart",m="suspendedYield",y="executing",g="completed",p={};function h(){}function v(){}function E(){}var t={},_=(a(t,r,function(){return this}),Object.getPrototypeOf),_=_&&_(_(w([]))),b=(_&&_!==e&&c.call(_,r)&&(t=_),E.prototype=h.prototype=Object.create(t));function L(e){["next","throw","return"].forEach(function(t){a(e,t,function(e){return this._invoke(t,e)})})}function S(i,l){var t;u(this,"_invoke",{value:function(n,r){function e(){return new l(function(e,t){!function t(e,n,r,o){var a,e=d(i[e],i,n);if("throw"!==e.type)return(n=(a=e.arg).value)&&"object"==_typeof(n)&&c.call(n,"__await")?l.resolve(n.__await).then(function(e){t("next",e,r,o)},function(e){t("throw",e,r,o)}):l.resolve(n).then(function(e){a.value=e,r(a)},function(e){return t("throw",e,r,o)});o(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function w(t){if(t||""===t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(c.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=s,e.done=!0,e}).next=e}throw new TypeError(_typeof(t)+" is not iterable")}return u(b,"constructor",{value:v.prototype=E,configurable:!0}),u(E,"constructor",{value:v,configurable:!0}),v.displayName=a(E,o,"GeneratorFunction"),i.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},i.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,a(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},i.awrap=function(e){return{__await:e}},L(S.prototype),a(S.prototype,n,function(){return this}),i.AsyncIterator=S,i.async=function(e,t,n,r,o){void 0===o&&(o=Promise);var a=new S(l(e,t,n,r),o);return i.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},L(b),a(b,o,"Generator"),a(b,r,function(){return this}),a(b,"toString",function(){return"[object Generator]"}),i.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},i.values=w,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&c.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=s)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return a.type="throw",a.arg=n,r.next=e,t&&(r.method="next",r.arg=s),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],a=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var i=c.call(o,"catchLoc"),l=c.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}var a=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,o=this.tryEntries[t];if(o.tryLoc===e)return"throw"===(n=o.completion).type&&(r=n.arg,A(o)),r}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:w(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=s),p}},i}function _createForOfIteratorHelper(e,t){var n,r,o,a,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return o=!(r=!0),{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){o=!0,n=e},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw n}}};if(Array.isArray(e)||(i=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function asyncGeneratorStep(e,t,n,r,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function _asyncToGenerator(l){return function(){var e=this,i=arguments;return new Promise(function(t,n){var r=l.apply(e,i);function o(e){asyncGeneratorStep(r,t,n,o,a,"next",e)}function a(e){asyncGeneratorStep(r,t,n,o,a,"throw",e)}o(void 0)})}}var pathname=null==(_URL=new URL(null!=(_document$referrer=null==(_document=document)?void 0:_document.referrer)?_document$referrer:""))?void 0:_URL.pathname,idEnroll=null!=(_pathname$split=pathname.split("/")[pathname.split("/").length-1])?_pathname$split:"ConfigData",personalInformation=JSON.parse(localStorage.getItem(idEnroll)),LOCAL_STORAGE_KEY="resultadoExamen",LOCAL_COLORS_KEY="colorsExamen",LOCAL_DATOS_KEY=idEnroll,exams={model_1:[[1,9,17],[1,9,17,25]],model_2:[[2,10,18],[2,10,18,26]],model_3:[[3,11,19],[3,11,19,27]],model_4:[[4,12,20],[4,12,20,28]],model_5:[[5,13,21],[5,13,21,29]],model_6:[[6,14,22],[6,14,22,30]],model_7:[[7,15,23],[7,15,23,31]],model_8:[[8,16,24],[8,16,24,32]],model_9:[[5,9,21],[7,12,20,31]],model_10:[[2,12,21],[6,13,24,27]],model_11:[[5,16,19],[5,14,20,32]],model_12:[[8,9,24],[6,13,17,29]],model_13:[[1,12,24],[7,12,22,25]],model_14:[[7,14,19],[4,10,24,30]],model_15:[[4,16,18],[8,10,21,28]],model_16:[[2,9,20],[5,11,23,32]],model_17:[[4,15,24],[8,16,22,28]],model_18:[[6,14,17],[5,12,19,29]],model_19:[[7,11,20],[7,13,18,26]],model_20:[[6,16,19],[1,10,18,29]]},artefactaux=["artifact_1","artifact_2","artifact_3"],userObject=inicializarExamen(LOCAL_DATOS_KEY),evaluacion=inicializarExamen(LOCAL_STORAGE_KEY),colorBorders=inicializarExamen(LOCAL_COLORS_KEY);function inicializarExamen(e){var t;if(e===LOCAL_STORAGE_KEY)return(t=cargarResultados(e))||(console.log("No se encontraron puntuaciones previas. Iniciando nuevo examen."),(t=[]).push({id:"P1",items:[0,0],tiempo:0,intentos:0}),t.push({id:"P2",items:[0,0],tiempo:0,intentos:0}),t.push({id:"P3",items:[0,0],tiempo:0,intentos:0}),t.push({id:"P4",items:[0,0,0],tiempo:0,intentos:0}),t.push({id:"P5",items:[0,0,0,0],tiempo:0,intentos:0}),t.push({id:"P6",items:[0,0,0],tiempo:0,intentos:0}),t.push({id:"P7",items:[0,0,0,0],tiempo:0,intentos:0}),t.push({id:"NF",resultado:0}),localStorage.setItem(e,JSON.stringify(t)),t);if(e!==LOCAL_COLORS_KEY)return e===LOCAL_DATOS_KEY?cargarResultados(e)||(t={idUser:"671913c57752cea29edff428",firstName:"estudiante",secondName:"estudiante",surname:"estudiante",secondSurname:"estudiante",gender:"Masculino",email:"estudiante@gmail.com",curseName:"Fragata",chapter:"Capítulo 0",category:"Educacion_media",liceo:"U.E.N. BEATRIZ DE RODRÍGUEZ",universidad:"",availabilityStartDate:"01-01-2022 00:00:00",availabilityEndDate:"01-01-2025 00:00:00",sections:"B",idExam:"6725392e84eceb9220d8ef44",evaluationModel:"model_1",result:[],userStartTime:0,userEndTime:0},localStorage.setItem(e,JSON.stringify(t)),t):void 0;if(t=cargarResultados(e))return t;console.log("No se encontraron colores previos. Iniciando nuevo examen.");for(var n={},r=0;r<=6;r++)n[r]="#217E9D";return localStorage.setItem(e,JSON.stringify(n)),n}function cargarResultados(e){e=localStorage.getItem(e);return e?JSON.parse(e):null}function userDatevalidation(){var e=["courseName","idUser","evaluationModel","firstName","secondName","surname","secondSurname","gender","email","userStartTime","userEndTime","result","availabilityStartDate","availabilityEndDate","chapter"].filter(function(e){return!(e in userObject)});if(0<e.length)console.log("Agregar Propiedades faltantes: "+e.join(", "));else{if(null!==userObject.result)return document.getElementById("rules").style.display="none",document.getElementById("after").style.display="none",document.getElementById("paginaExamen").style.display="none",showResuls(userObject,userObject.result),!0;console.log("Iniciando VAlidacion fecha",userObject.availabilityStartDate,userObject.availabilityEndDate);var e=validateDates(userObject.availabilityStartDate,userObject.availabilityEndDate),t=e.state,e=e.message;t&&(setHeaderData(userObject),document.getElementById("rules").style.display="block",document.getElementById("buttonRule").addEventListener("click",function(){document.getElementById("rules").style.display="none",document.getElementById("resultadoPagina").style.display="none",document.getElementById("paginaExamen").style.display="block";var e=new Date,e=(console.log(e),e.getTime()- -144e5),e=(console.log(e),userObject.userStartTime=e,localStorage.setItem(LOCAL_DATOS_KEY,JSON.stringify(userObject)),generateEvaluationArtifacts(userObject),document.querySelectorAll(".check")),e=Array.from(e).slice(1),t=Object.keys(rDef).slice(1),e=(evaluacion=valida(e,evaluacion,def,artefactaux,colorBorders,t),document.querySelectorAll(".reset")),e=Array.from(e).slice(1);evaluacion=calcularResultadoTotal(evaluacion=cleanArt(e,evaluacion,colorBorders)),mostrarModal(userObject)})),console.log(e)}return!1}function mostrarModal(t){var n=document.getElementById("myModal"),e=document.getElementById("openModalBtn"),r=document.getElementById("confirmBtn"),o=document.getElementById("cancelBtn");e.onclick=function(){n.style.display="block"},r.onclick=function(){document.getElementById("paginaExamen").style.display="none",document.getElementById("resultadoPagina").style.display="block";var e=(new Date).getTime()- -144e5,e=(t.userEndTime=e,t.result=evaluacion,localStorage.setItem(LOCAL_DATOS_KEY,JSON.stringify(t)),(((t.userEndTime-t.userStartTime)/1e3).toFixed(1)/60).toFixed(1));document.getElementById("tiempo").textContent="".concat(e," min"),showResuls(t,evaluacion),n.style.display="none",window.scrollTo({top:0,behavior:"smooth"})},o.onclick=function(){n.style.display="none"},window.onclick=function(e){e.target==n&&(n.style.display="none")}}function showResuls(t,e){var n=0,r=(t.result.slice(0,-1).forEach(function(e){n+=e.items.reduce(function(e,t){return e+t},0)}),t.result[t.result.length-1].resultado=n,{idUser:t.idUser,idExam:t.idExam,firstName:t.firstName,secondName:t.secondName,surname:t.surname,secondSurname:t.secondSurname,gender:t.gender,email:t.email,userStartTime:t.userStartTime,userEndTime:t.userEndTime,qualification:n,result:t.result}),r=(console.log("TOSEND",r,t.result[t.result.length-1].resultado),"undefined"!=typeof Android&&"function"==typeof Android.sendExam&&Android.sendSummary(JSON.stringify(r)),setHeaderData(t),document.getElementById("paginaExamen")),o=document.getElementById("resultadoPagina"),a=document.getElementById("notafinal"),i=e.reduce(function(e,t){return t.items&&Array.isArray(t.items)?e+t.items.length:e},0),l=e.reduce(function(e,t){return t.items&&Array.isArray(t.items)?e+t.items.reduce(function(e,t){return e+t},0):e},0);r.style.display="none",o.style.display="block",a.style.display="block";document.getElementById("nota").textContent=l/i*20;var s=0,c=1;function u(){var e=document.querySelector(".slider-container").offsetWidth;c=Math.max(1,Math.floor(e/250)),document.getElementById("slider").style.transform="translateX(-".concat(250*s,"px)"),document.getElementById("prevBtn").disabled=0===s,document.getElementById("nextBtn").disabled=s>=t.length-c}document.getElementById("prevBtn").addEventListener("click",function(){0<s&&(s--,u())}),document.getElementById("nextBtn").addEventListener("click",function(){s<e.length-c&&(s++,u())}),window.addEventListener("resize",u);var d=document.getElementById("slider");d.innerHTML="";for(var f,m,y,g,p=0;p<e.length-1;p++)d.appendChild((f=e[p],m=p,g=y=void 0,(g=document.createElement("div")).className="artefacto","NF"===f.id?g.innerHTML="\n                    <h2>Artefacto ".concat(m+1,'</h2>\n                    <div class="info">Resultado: ').concat(f.resultado,"</div>\n                "):(y=f.items.map(function(e,t){return"\n                    <tr>\n                        <td>".concat(t+1,"</td>\n                        <td>").concat(e,"</td>\n                    </tr>\n                ")}).join(""),g.innerHTML="\n                    <h2>Artefacto ".concat(m+1,"</h2>\n                    <table>\n                        <tr>\n                            <th>Items</th>\n                            <th>Puntos</th>\n                        </tr>\n                        ").concat(y,'\n                    </table>\n                    <div class="info">\n                        <strong>Total puntos: </strong>').concat(f.items.reduce(function(e,t){return e+t},0),"<br>\n                        <strong>Intentos: </strong>").concat(f.intentos,"<br>\n                        <strong>Tiempo/Seg: </strong>").concat(f.tiempo,"\n                    </div>\n                ")),g));u()}function calcularResultadoTotal(e){var t=0,n=(e.forEach(function(e){e.items&&Array.isArray(e.items)&&(e=e.items.reduce(function(e,t){return e+t},0),t+=e)}),Array.isArray(e)?e.filter(function(e){return"NF"===e.id})[0]:e.find(function(e){return"NF"===e.id}));return n&&(n.resultado=t),e}function cleanArt(t,n,r){for(var o=document.querySelectorAll("#newDiv"),e=(borderDefault=document.querySelectorAll(".borderDefault"),0);e<t.length;e++)!function(e){t[e].addEventListener("click",function(){switch(this){case t[0]:o[e].style.borderColor="#217E9D",r[e]="#217E9D",localStorage.setItem(LOCAL_COLORS_KEY,JSON.stringify(r)),n[e].items=[0,0];break;case t[1]:case t[2]:o[e].style.borderColor="#217E9D",r[e]="#217E9D",console.log(r),localStorage.setItem(LOCAL_COLORS_KEY,JSON.stringify(r)),n[e].items=[0,0];break;case t[3]:borderDefault[e].style.borderColor="#217E9D",r[e]="#217E9D",console.log(r),localStorage.setItem(LOCAL_COLORS_KEY,JSON.stringify(r)),n[e].items=[0,0,0];break;case t[4]:borderDefault[e].style.borderColor="#217E9D",r[e]="#217E9D",console.log(r),localStorage.setItem(LOCAL_COLORS_KEY,JSON.stringify(r)),n[e].items=[0,0,0,0];break;case t[5]:borderDefault[e].style.borderColor="#217E9D",r[e]="#217E9D",console.log(r),localStorage.setItem(LOCAL_COLORS_KEY,JSON.stringify(r)),n[e].items=[0,0,0];break;case t[6]:borderDefault[e].style.borderColor="#217E9D",r[e]="#217E9D",console.log(r),localStorage.setItem(LOCAL_COLORS_KEY,JSON.stringify(r)),n[e].items=[0,0,0,0]}setTimeout(function(){guardarResultados(n)},0)})}(e);return n}function valida(e,t,n,r,d,o){for(var a=function(e,t,n,r,o,a,i,l){var s=t[e].querySelectorAll("math-field"),c=r[e].querySelectorAll("math-field");document.querySelectorAll("#newDiv")[l].style.borderColor="yellow",d[l]="yellow",localStorage.setItem(LOCAL_COLORS_KEY,JSON.stringify(d)),o[l].tiempo=i[a[l]].timeInteraction,o[l].intentos+=1,s[0]._internals.willValidate?setTimeout(function(){(clases=Array.from(s[0].classList)).includes("failed")?(console.log("Intervalo ",l+1," fallo"),o[l].items[0]=0,s[0].classList.remove("failed")):clases.includes("pass")?(console.log("Intervalo ",l+1," paso"),o[l].items[0]=1,s[0].classList.remove("pass")):(console.log("Intervalo ",l+1," no respondio"),o[l].items[0]=0),guardarResultados(o)},0):console.log("Intervalo ",l+1," deshabilitado"),setTimeout(function(){(clases=Array.from(n[e].classList)).includes("pass")?(console.log("Recta Real ",l+1," paso"),o[l].items[1]=1,n[e].classList.remove("pass")):clases.includes("failed")?(console.log("Recta Real ",l+1," fallo"),o[l].items[1]=0,n[e].classList.remove("failed")):(console.log("Recta Real ",l+1," no respondio"),o[l].items[1]=0),guardarResultados(o)},0),c[0]._internals.willValidate?setTimeout(function(){(clases=Array.from(c[0].classList)).includes("failed")?(console.log("Algebraico ",l+1," fallo"),o[l].items[0]=0,c[0].classList.remove("failed")):clases.includes("pass")?(console.log("Algebraico ",l+1," paso"),o[l].items[0]=1,c[0].classList.remove("pass")):(console.log("Algebraico ",l+1," no respondio"),o[l].items[0]=0),guardarResultados(o)},0):console.log("Algebraico ",l+1," deshabilitado")},l=function(e,t,n,r,o){var a=document.querySelectorAll("math-field.colorInput"),l=document.querySelectorAll(".BoardEngInt math-field.colorInput").length,s=((borderDefault=document.querySelectorAll(".borderDefault"))[o].style.borderColor="yellow",d[o]="yellow",localStorage.setItem(LOCAL_COLORS_KEY,JSON.stringify(d)),r[o].tiempo+=rDef[n].timeInteraction,r[o].intentos+=1,console.log(o,"===",r[o].tiempo),indx=0,e+l),c=Array(rDef[n].textBottom)[0],u=(c=(c=c.split("),(")).map(function(e,t){return 0===t?e+")":t===c.length-1?"("+e:"("+e+")"})).length;setTimeout(function(){for(u<t&&(console.log("Hay mas respuestas que puntos"),t=u,console.log("Puntos:",t)),i=0;i<t;i++){var e=a[i+s].classList;e.contains("passInLibrary")?(console.log("Punto "+(i+1)+" acertado"),r[o].items[indx]=1,indx++):e.contains("failedInLibrary")&&(console.log("Punto "+(i+1)+" fallado"),r[o].items[indx]=0,indx++)}guardarResultados(r)},10)},s=0;s<e.length;s++)e[s].addEventListener("click",function(){switch(this){case e[0]:a(1,document.querySelectorAll(".divEngInt1"),document.querySelectorAll(".BoardEngInt"),document.querySelectorAll(".divEngInt2"),t,r,n,0);break;case e[1]:a(2,document.querySelectorAll(".divEngInt1"),document.querySelectorAll(".BoardEngInt"),document.querySelectorAll(".divEngInt2"),t,r,n,1);break;case e[2]:a(3,document.querySelectorAll(".divEngInt1"),document.querySelectorAll(".BoardEngInt"),document.querySelectorAll(".divEngInt2"),t,r,n,2);break;case e[3]:l(1,rDef[o[0]].points.length,o[0],t,3);break;case e[4]:l(rDef[o[0]].points.length+3,rDef[o[1]].points.length,o[1],t,4);break;case e[5]:l(rDef[o[0]].points.length+rDef[o[1]].points.length+4,rDef[o[2]].points.length,o[2],t,5);break;case e[6]:l(rDef[o[0]].points.length+rDef[o[1]].points.length+rDef[o[2]].points.length+5,rDef[o[3]].points.length,o[3],t,6)}});return t}function formatText(e){var e=e.toLowerCase(),t=["de","y","o","a","en","el","la","los","las"];return e.split(" ").map(function(e){return e.includes(".")?e.split(".").map(function(e){return e.toUpperCase()}).join("."):t.includes(e)?e:e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")}function guardarResultados(e){return _guardarResultados.apply(this,arguments)}function _guardarResultados(){return(_guardarResultados=_asyncToGenerator(_regeneratorRuntime().mark(function e(r){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e,t){try{var n=JSON.parse(localStorage.getItem(LOCAL_DATOS_KEY));n.result=r,localStorage.setItem(LOCAL_DATOS_KEY,JSON.stringify(n)),e()}catch(e){t(e)}});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function validateDates(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-240,r=(new Date).getTime()-60*n*1e3,e=new Date(e).getTime()-60*n*1e3,t=new Date(t).getTime()-60*n*1e3;return r<e?{state:!1,message:"La fecha actual es anterior a la fecha de inicio."}:e<=r&&r<=t?{state:!0,message:"La fecha actual está dentro del rango permitido."}:t<r?{state:!1,message:"La fecha actual está después de la fecha de cierre."}:{state:!1,message:"La fecha actual no está en un estado válido."}}function setHeaderData(e){document.getElementById("institucion").innerHTML=formatText(e.liceo),document.getElementById("Categoria").innerHTML=e.category,document.getElementById("materia").innerHTML=e.courseName,document.getElementById("seccion").innerHTML=e.sections,document.getElementById("nombreEstudiante").innerHTML="".concat(e.firstName," ").concat(e.secondName," ").concat(e.surname," ").concat(e.secondSurname),document.getElementById("correoEstudiante").innerHTML=e.email,document.getElementById("capExam").innerHTML=e.chapter,document.getElementById("evaluationModel").innerHTML=e.evaluationModel}function PintaSeleccionP1(e,t,n){var r=[];return r[0]="artifact_"+e[0],r[1]="artifact_"+e[1],r[2]="artifact_"+e[2],[t=filtrarObjeto(t,r),r]}function generateEvaluationArtifacts(e){var e=_slicedToArray(localStoragePreguntasExamen(e),2),t=e[0],e=e[1],t=(console.log(t,e),_slicedToArray(PintaSeleccionP1(t,def,"P1"),2)),e=(def=t[0],def=renombrarArtefactos(def),ajustarPosition(e)),t=procesarRdef(rDef,e);rDef=t,window.onload=initMain(),pintarArtefactos(["artifact_1","artifact_2","artifact_3"]),agregarEncabezadosPregunta()}function agregarEncabezadosPregunta(){for(var e=document.querySelectorAll(".borderDefault"),t=3;t<e.length;t++){var n=document.createElement("div"),r=(n.style.display="flex",document.createElement("span")),o=(r.style.float="left",r.textContent="Artef. ".concat(t+1),r.classList.add("question-header"),document.createElement("span"));o.style.float="right",o.textContent=4===t||6===t?"4 Pts":"3 Pts",o.classList.add("oval-container"),n.appendChild(r),n.appendChild(o),e[t].insertBefore(n,e[t].firstChild)}}function pintarArtefactos(e){var n=document.getElementById("container-all-artifact");e.forEach(function(e,t){t=crearDivArtefacto(t+1,document.getElementById(e));n.appendChild(t)})}function crearDivArtefacto(e,t){var n=document.createElement("div"),r=(n.id="newDiv",document.createElement("div")),o=(r.style.display="flex",r.style.justifyContent="space-between",document.createElement("div")),e=(o.className="question-header",o.textContent="Artef. ".concat(e),document.createElement("div"));return e.className="oval-container",e.textContent="2 Pts",r.appendChild(o),r.appendChild(e),n.appendChild(r),n.appendChild(t),n}function initMain(){generation(def),generator(rDef),mainCartesian(defBoards,rDef)}function renombrarArtefactos(n){var e=Object.keys(n).sort(function(e,t){return parseInt(e.split("_")[1])-parseInt(t.split("_")[1])}),r={};return e.forEach(function(e,t){r["artifact_".concat(t+1)]=n[e]}),r}function ajustarPosition(e){return e.map(function(e){return e-1})}function procesarRdef(e,t){return filtrarRdef(filtrarContents(e,t),t)}function filtrarRdef(e,t){for(var n=0;n<t.length;n++)t[n]=t[n]+1;var r,o,a={};for(r in a.artifactHtml=e.artifactHtml,e)r.startsWith("artifact_")&&(o=parseInt(r.split("_")[1]),t.includes(o))&&(a[r]=e[r]);return a}function filtrarContents(e,n){var t;return e.artifactHtml&&e.artifactHtml.datadefault&&e.artifactHtml.datadefault[0]&&e.artifactHtml.datadefault[0].contents&&(t=e.artifactHtml.datadefault[0].contents.filter(function(e,t){return n.includes(t)}),e.artifactHtml.datadefault[0].contents=t),e}function getPosition(e,t){t=t[e.evaluationModel.replace("modelo_","model_")];return t?[t[0],t[1]]:(alert("Modelo no encontrado"),[null,null])}function localStoragePreguntasExamen(e){e=_slicedToArray(getPosition(e,exams),2);return[e[0],e[1]]}function filtrarObjeto(e,t){var n,r={},o=_createForOfIteratorHelper(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;e.hasOwnProperty(a)&&(r[a]=e[a])}}catch(e){o.e(e)}finally{o.f()}return r}function printEvaluation(){}function markBorders(){}var isLeaving=!1,userStartTime=null;window.addEventListener("beforeunload",function(e){e.returnValue="¿Estás seguro de que deseas salir?",e.preventDefault(),console.log("La página está siendo recargada."),userStartTime=DatosX.userStartTime,console.log(DatosX)}),window.addEventListener("visibilitychange",function(){"visible"===document.visibilityState&&isLeaving?console.log("El usuario ha decidido no recargar la página. Ejecutando acciones..."):((DatosX=cargarResultados(LOCAL_DATOS_KEY)).result=null,DatosX.userStartTime=userStartTime,localStorage.removeItem(LOCAL_COLORS_KEY),localStorage.setItem(LOCAL_DATOS_KEY,JSON.stringify(DatosX)))}),window.addEventListener("load",function(){isLeaving=!1});