function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l,r,n,i,s=[],o=!0,c=!1;try{if(n=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;o=!1}else for(;!(o=(l=n.call(a)).done)&&(s.push(l.value),s.length!==t);o=!0);}catch(e){c=!0,r=e}finally{try{if(!o&&null!=a.return&&(i=a.return(),Object(i)!==i))return}finally{if(c)throw r}}return s}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _createForOfIteratorHelper(e,t){var a,l,r,n,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return r=!(l=!0),{s:function(){i=i.call(e)},n:function(){var e=i.next();return l=e.done,e},e:function(e){r=!0,a=e},f:function(){try{l||null==i.return||i.return()}finally{if(r)throw a}}};if(Array.isArray(e)||(i=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var a;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(a="Object"===(a={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:a)||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,l=Array(t);a<t;a++)l[a]=e[a];return l}function ownKeys(t,e){var a,l=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),l.push.apply(l,a)),l}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(a),!0).forEach(function(e){_defineProperty(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function _defineProperty(e,t,a){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"==_typeof(e)?e:e+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!=_typeof(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}var isActiveCounter=!1,targetActive="";function generateArtifact(l){for(var r=document.querySelector("#template"),n=document.querySelector("#mainArtifact"),i=new DocumentFragment,e=0,t=Object.keys(l);e<t.length;e++)!function(e){var t={dataInteraction:{correct:0,incorrect:0,forAnswer:0},changeWidth:l[e].changeWidth||!1,borderNone:l[e].borderNone||!1,timeInteraction:0,statusValidate:!1,change:!1,variableX:null!=(t=l[e].variableX)?t:"2",buttonsActive:l[e].buttonsActive||!1,inputActive:l[e].inputActive||!1,noiseDecimal:l[e].noiseDecimal||1e-6,minDecimal:l[e].minDecimal||0,characteristicsArtifact:(null==(t=l[e])?void 0:t.characteristicsArtifact)||{typeForm:(null==(t=l[e])||null==(t=t.characteristicsArtifact)?void 0:t.typeForm)||!1,arrow:{count:(null==(t=l[e])||null==(t=t.characteristicsArtifact)||null==(t=t.arrow)?void 0:t.count)||2,direction:(null==(t=l[e])||null==(t=t.characteristicsArtifact)||null==(t=t.arrow)?void 0:t.direction)||"down",size:{width:null!=(t=null==(t=l[e])||null==(t=t.characteristicsArtifact)||null==(t=t.arrow)||null==(t=t.size)?void 0:t.width)?t:"40px",height:null!=(t=null==(t=l[e])||null==(t=t.characteristicsArtifact)||null==(t=t.arrow)||null==(t=t.size)?void 0:t.height)?t:"100px"},style:{marginLeft:null!=(t=null==(t=l[e])||null==(t=t.characteristicsArtifact)||null==(t=t.arrow)?void 0:t.style.marginLeft)?t:"margin-left:4px"}},width:(null==(t=l[e])||null==(t=t.characteristicsArtifact)?void 0:t.width)||"auto",height:(null==(t=l[e])||null==(t=t.characteristicsArtifact)?void 0:t.height)||"auto",typeDiv:null!=(null==(t=l[e])||null==(t=t.characteristicsArtifact)?void 0:t.typeDiv)?null==(t=l[e])||null==(t=t.characteristicsArtifact)?void 0:t.typeDiv:[{rounded:{count:3,border:"1px solid var(--azulMedio)",formClas:"rounded",inputEnable:!0,size:{width:"200px",height:"50px"}}},{square:{count:2,border:"1px solid var(--azulMedio)",formClas:"square",inputEnable:!0,size:{width:"100px",height:"50px"}}}]},conditions:l[e].conditions||{}},a=r.content.firstElementChild.cloneNode(!0);a.classList.add(e),a.setAttribute("data-ejercicio",e),a.addEventListener("mouseenter",function(){gTime(l[e]),targetActive=a.dataset.ejercicio}),a.addEventListener("mouseleave",function(){gTime(l[e],!1,!1),targetActive=""}),l[e]=_objectSpread(_objectSpread({},l[e]),t),i.appendChild(a),n.appendChild(i),artifactDefault(t,e,a,l[e].typeForm,targetActive)}(t[e])}function stateButton(a,e,t){def.inputActive,e.addEventListener("change",function(e){def[a].change=!0}),e.addEventListener("blur",function(e){gTime(def[a],!1,!1),isActiveCounter=!1}),e.addEventListener("input",function(e,t){null==e.data||isActiveCounter||(isActiveCounter=!0,def[a].statusValidate=!1,gTime(def[a],!0))}),e.addEventListener("beforeinput",function(e){e.getTargetRanges()})}function pageText(e,t,l,a){var r,n=e.typeTag,i=e.content,e=e.classContent,s=i.property,i=i.textValue,o=(s.typeText,s.defaultClass);n==n&&(r="",i.forEach(function(e,t){var a;e.hasOwnProperty("addons")?r+='\n                    <div class="'.concat(null!=(a=e.addons.classAddons)?a:"",'">\n                    \n<').concat(n,' class="').concat(null!=o?o:""," ").concat(null!=(a=e.class)?a:"",'" ').concat(null!=(a=e.atribute)?a:"",">\n                    ").concat(null!=(a=e.text)?a:"","\n                    </").concat(n,">\n                    \n                    ").concat(e.addons.keyboardActive?pageTextArtifactButtons(l):"","\n                    </div>"):r+="\n<".concat(n,' class="').concat(null!=o?o:""," ").concat(null!=(a=e.class)?a:"",'" ').concat(null!=(a=e.atribute)?a:"",">").concat(null!=(a=e.text)?a:"","</").concat(n,">")}),s='\n                <div class="'.concat(null!=e?e:"contentTitleParagraph",'">\n                ').concat(r,"\n                </div>"),l.insertAdjacentHTML("beforeend",s))}function generarTabla(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=[],e=n.def.characteristicsArtifact.tablet,t=document.createElement("div"),a=(n.clone.style.margin="8px",n.clone.style.width=null!=(a=null==(a=n.def.characteristicsArtifact)?void 0:a.width)?a:"340px",t.classList.add("borderDefault"),document.createElement("table")),l=document.createElement(e.typeParent);a.classList.add("table","table-bordered"),a.appendChild(l),e.typeChild.forEach(function(e){var t,r=document.createElement(e.nodeChild.tag);null!=n&&null!=(t=n.def)&&t.borderNone&&r.classList.add("mathTr"),null!=e&&null!=(t=e.nodeChild)&&t.style&&(r.style.cssText=null==e||null==(t=e.nodeChild)?void 0:t.style),e.nodeChild.child.forEach(function(e){var t,a,l=document.createElement(e.tag);null!=e&&e.style&&(l.style.cssText=null==e?void 0:e.style),null!=e&&null!=(t=e.tag)&&t.style&&(l.style.cssText=null==e||null==(t=e.tag)?void 0:t.style),e.hasOwnProperty("child")?((t=document.createElement(e.child.tag)).style.cssText=null!=(a=null==e||null==(a=e.child)?void 0:a.style)&&a,"math-field"===(null==(a=e.child)?void 0:a.tag)&&"TD"===l.tagName&&i.push(t),t.setAttribute("virtual-keyboard-mode","onfocus"),t.setAttribute("keypress-sound","none"),t.classList.add("mathSize","fontTabla"),t.style.width="285px !important;",e.child.disabled&&(t.disabled=e.child.disabled),t.value=null==e||null==(a=e.child)?void 0:a.value,null!==t.getAttribute("disabled")&&t.classList.add("element"),null!=n&&null!=(a=n.def)&&a.changeWidth&&t.classList.add("mathSizeWidth"),keyBoard(t),l.appendChild(t),stateButton(n.artifact,t,n.def)):l.textContent=null!=(a=null==e?void 0:e.textDefault)?a:"Por defecto",r.appendChild(l)}),l.appendChild(r)}),t.appendChild(a),n.def.buttonsActive&&divControllerButton(_objectSpread(_objectSpread({},n),{},{contenedorTablet:t,mathArray:i})),n.clone.appendChild(t)}function generateTree(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.def,a=e.clone,l=t.characteristicsArtifact.tree.contenedor,r=l.tag,n=l.child,r=createHtmlElement({tag:r,classStyle:l.classStyle}),n=(bucleItem({content:r,child:n,parameters:e}),a.style.width=null!=(l=t.characteristicsArtifact.width)?l:"auto",a.appendChild(r),Array.from(a.querySelectorAll("#nodoLeft"))),t=Array.from(a.querySelectorAll("#nodoRight")),l=Array.from(a.querySelectorAll("#nodoOperator")),a=Array.from(a.querySelectorAll("#nodoResult"));e.def.buttonsActive&&divControllerButton(_objectSpread(_objectSpread({},e),{},{content:r,nodoLeft:nodosValidate(n),nodoRight:nodosValidate(t),nodoOperator:nodosValidate(l),nodoResult:nodosValidate(a)}))}function createHtmlElement(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.tag,a=e.classStyle,l=e.item,r=document.createElement(t);return r.className=a,"math-field"===t&&(r.setAttribute("virtual-keyboard-mode","onfocus"),null!=l&&l.defaultValue&&(r.value=null!=(a=null==l?void 0:l.defaultValue)?a:"defecto",r.disabled=null!=(t=null==l?void 0:l.disabled)&&t),null!=l&&l.writeCss&&(r.style.cssText=null!=(a=null==l?void 0:l.writeCss)&&a),keyBoard(r),stateButton(e.parameters.artifact,r,e.parameters.def)),r.style.cssText=null!=(t=null==l?void 0:l.writeCss)&&t,void 0!==(null==e?void 0:e.id)&&(r.setAttribute("id",null==e?void 0:e.id),r.setAttribute("data-nodo",null==e?void 0:e.id)),r}function bucleItem(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.content;if(void 0!==e.child){var a,l=_createForOfIteratorHelper(e.child);try{for(l.s();!(a=l.n()).done;){var r,n,i,s,o,c,d,u,f,m,y,p,b,v,h,g,A,w=a.value;null!=(r=w[Object.keys(w)])&&r.id?(c=void 0!==w[Object.keys(w)]?createHtmlElement({tag:null==(n=w[Object.keys(w)])?void 0:n.tag,classStyle:null==(i=w[Object.keys(w)])?void 0:i.classStyle,id:null==(s=w[Object.keys(w)])?void 0:s.id,item:w[Object.keys(w)],parameters:e.parameters}):createHtmlElement({tag:null==w?void 0:w.tag,classStyle:null==w?void 0:w.classStyle,item:w[Object.keys(w)],parameters:e.parameters}),t.appendChild(c),bucleItem({content:c,child:null==(o=w[Object.keys(w)])?void 0:o.child,parameters:e.parameters})):null!=(d=w[Object.keys(w)])&&d.defaultValue?(b=void 0!==w[Object.keys(w)]?createHtmlElement({tag:null==(u=w[Object.keys(w)])?void 0:u.tag,classStyle:null==(f=w[Object.keys(w)])?void 0:f.classStyle,defaultValue:null==(m=w[Object.keys(w)])?void 0:m.defaultValue,disabled:null==(y=w[Object.keys(w)])?void 0:y.disabled,item:w[Object.keys(w)],parameters:e.parameters}):createHtmlElement({tag:null==w?void 0:w.tag,classStyle:null==w?void 0:w.classStyle,item:w[Object.keys(w)],parameters:e.parameters}),t.appendChild(b),bucleItem({content:b,child:null==(p=w[Object.keys(w)])?void 0:p.child,parameters:e.parameters})):(A=void 0!==w[Object.keys(w)]?createHtmlElement({tag:null==(v=w[Object.keys(w)])?void 0:v.tag,classStyle:null==(h=w[Object.keys(w)])?void 0:h.classStyle,item:w[Object.keys(w)],parameters:e.parameters}):createHtmlElement({tag:null==w?void 0:w.tag,classStyle:null==w?void 0:w.classStyle,item:w,parameters:e.parameters}),t.appendChild(A),bucleItem({content:A,child:null==(g=w[Object.keys(w)])?void 0:g.child,parameters:e.parameters}))}}catch(e){l.e(e)}finally{l.f()}}}function nodosValidate(e){var t=[];Array.from(e).map(function(e){Array.from(e.querySelectorAll("math-field")).map(function(e){t.push(e)})});return t}function artifactDefault(n,i,s,e,t){var a,l,o=[],c=[],r=[],d=[];if(null!=(l=def[i])&&l.characteristicsArtifact.hasOwnProperty("typeDiv")){if(void 0!==def[i].characteristicsArtifact.typeForm?s.classList.add("".concat(def[i].characteristicsArtifact.typeForm)):s.classList.add("artifactGrid"),def[i].modeDouble){for(var u=0,f=Object.entries(n.characteristicsArtifact.typeDiv);u<f.length;u++){var m=_slicedToArray(f[u],2);m[0];!function(r){Object.keys(r).map(function(e,t){for(var a=0;a<r[e].count;a++){var l=document.createElement("math-field");l.setAttribute("virtual-keyboard-mode","onfocus"),l.setAttribute("keypress-sound","none"),l.classList.add("math","element"),l.setAttribute("data-type",e),l.style.width=r[e].size.width,l.style.height=r[e].size.height,l.style.border=r[e].border,(e.match(/rounded/gi)?(l.style.borderRadius="4rem",l.classList.add("roundedArtic-".concat(a),"screenDouble-".concat(a)),stateButton(i,l,n),o):(l.style.borderRadius="0.2rem",l.classList.add("square-".concat(a)),stateButton(i,l,n),c)).push(l),keyBoard(l),s.appendChild(l)}})}(m[1])}def[i].hasOwnProperty("equationsEnd")&&def[i].equationsEnd.forEach(function(e,t){var a=document.createElement("math-field");a.classList.add("math","element"),a.setAttribute("virtual-keyboard-mode","onfocus"),a.setAttribute("keypress-sound","none"),a.classList.add("".concat(Object.keys(e)[0],"-").concat(t)),a.style.width=null!=(t=null==(t=e[Object.keys(e)])||null==(t=t.size)?void 0:t.width)?t:"300px",a.style.height=null!=(t=null==(t=e[Object.keys(e)])||null==(t=t.size)?void 0:t.height)?t:"50px",null!=(t=e[Object.keys(e)[0]])&&t.writeCss&&(a.style.cssText=null==(t=e[Object.keys(e)[0]])?void 0:t.writeCss),a.style.border="1px solid var(--azulMedio)",a.style.borderRadius="0.2rem",(a.classList[2].match(/solution/gi)?(s.appendChild(a),stateButton(i,a,n),d):(s.appendChild(a),stateButton(i,a,n),r)).push(a),keyBoard(a),e[Object.keys(e)].defaultText.hasOwnProperty("disabled")?(a.disabled=null==(t=e[Object.keys(e)])||null==(t=t.defaultText)?void 0:t.disabled,a.value=null!=(t=null==(t=e[Object.keys(e)])||null==(t=t.defaultText)?void 0:t.textValue)?t:"defecto"):a.value=null!=(a=null==(t=e[Object.keys(e)])||null==(t=t.defaultText)?void 0:t.textValue)?a:"defecto"})}else{for(var y=0,p=Object.entries(n.characteristicsArtifact.typeDiv);y<p.length;y++){var b=_slicedToArray(p[y],2);b[0];!function(l){Object.keys(l).map(function(e){for(var t=0;t<l[e].count;t++){var a=document.createElement("math-field");a.setAttribute("virtual-keyboard-mode","onfocus"),a.setAttribute("keypress-sound","none"),a.classList.add("math","element"),a.setAttribute("data-type",e),a.style.width=l[e].size.width,a.style.height=l[e].size.height,a.style.border=l[e].border,(e.match(/rounded/gi)?(a.style.borderRadius="2rem",a.classList.add("roundedArtic-".concat(t)),stateButton(i,a,n),o):(a.style.borderRadius="0.2rem",a.classList.add("square-".concat(t)),stateButton(i,a,n),c)).push(a),keyBoard(a),s.appendChild(a)}})}(b[1])}def[i].hasOwnProperty("equationsEnd")&&def[i].equationsEnd.forEach(function(e,t){var a=document.createElement("math-field");a.classList.add("math","element"),a.setAttribute("virtual-keyboard-mode","onfocus"),a.setAttribute("keypress-sound","none"),a.classList.add("".concat(Object.keys(e)[0],"-").concat(t)),a.style.width=null!=(t=null==(t=e[Object.keys(e)])||null==(t=t.size)?void 0:t.width)?t:"320px",a.style.height=null!=(t=null==(t=e[Object.keys(e)])||null==(t=t.size)?void 0:t.height)?t:"50px",a.style.border="1px solid var(--azulMedio)",a.style.borderRadius="0.2rem",(a.classList[2].match(/solution/gi)?(s.appendChild(a),stateButton(i,a,n),d):(s.appendChild(a),stateButton(i,a,n),r)).push(a),keyBoard(a),e[Object.keys(e)].defaultText.hasOwnProperty("disabled")?(a.disabled=null==(t=e[Object.keys(e)])||null==(t=t.defaultText)?void 0:t.disabled,a.value=null!=(t=null==(t=e[Object.keys(e)])||null==(t=t.defaultText)?void 0:t.textValue)?t:"defecto"):a.value=null!=(t=null==(t=e[Object.keys(e)])||null==(t=t.defaultText)?void 0:t.textValue)?t:"defecto",null!=(t=e[Object.keys(e)])&&null!=(t=t.defaultText)&&t.writeCss&&(a.style.cssText=null==(t=e[Object.keys(e)])?void 0:t.defaultText.writeCss)})}if(def[i].hasOwnProperty("defaultinput")&&(o.map(function(e,t){var a;""!==(null==(a=def[i])||null==(a=a.defaultinput)||null==(a=a.screen)?void 0:a.defaultText[t])&&(e.value=null!=(a=null==(a=def[i])||null==(a=a.defaultinput)||null==(a=a.screen)||null==(a=a.defaultText[t])?void 0:a.textValue)?a:"",e.disabled=null!=(a=null==(a=def[i])||null==(a=a.defaultinput)||null==(a=a.screen)||null==(a=a.defaultText[t])?void 0:a.disabled)?a:null==(a=def[i])||null==(a=a.defaultinput)||null==(a=a.screen)?void 0:a.disabled,null!=(a=def[i]))&&null!=(a=a.defaultinput)&&null!=(a=a.screen)&&null!=(a=a.defaultText[t])&&a.writeCss&&(e.style.cssText=null==(a=def[i])||null==(a=a.defaultinput)||null==(a=a.screen)||null==(a=a.defaultText[t])?void 0:a.writeCss)}),def[i].defaultinput.hasOwnProperty("key"))&&c.map(function(e,t){var a;""!==(null==(a=def[i])||null==(a=a.defaultinput)?void 0:a.key[t])&&(e.value=null!=(a=null==(a=def[i])||null==(a=a.defaultinput)||null==(a=a.key)||null==(a=a.defaultText[t])?void 0:a.textValue)?a:"",e.disabled=null!=(a=null==(a=def[i])||null==(a=a.defaultinput)||null==(a=a.key)||null==(a=a.defaultText[t])?void 0:a.disabled)?a:null==(a=def[i])||null==(a=a.defaultinput)||null==(a=a.key)?void 0:a.disabled,null!=(a=def[i]))&&null!=(a=a.defaultinput)&&null!=(a=a.key)&&null!=(a=a.defaultText[t])&&a.writeCss&&(e.style.cssText=null==(a=def[i])||null==(a=a.defaultinput)||null==(a=a.key)||null==(a=a.defaultText[t])?void 0:a.writeCss)}),def[i].arrowUpDown)for(var v=0;v<def[i].characteristicsArtifact.arrow.count;v++){var h,g,A=document.createElement("div");0===v?(A.style=null!=(g=null==(g=def[i])||null==(g=g.characteristicsArtifact)||null==(g=g.arrow)?void 0:g.styleArrowDown)?g:"margin:4px; text-align:center;",A.classList.add("arrowDown"),A.setAttribute("data-type","arrow-down"),A.classList.add("arrowD-".concat(v)),A.style="margin:4px; text-align:center !important;"):1===v?(A.style=null!=(h=null==(g=def[i])||null==(g=g.characteristicsArtifact)||null==(g=g.arrow)?void 0:g.styleArrowUp)?h:"margin:4px; text-align:center;",A.classList.add("arrowUp"),A.setAttribute("data-type","arrow-up"),A.classList.add("arrowD-".concat(v))):(3===v||5===v||7===v?(A.classList.add("arrowUp"),A.setAttribute("data-type","arrow-up")):(A.classList.add("arrowDown"),A.setAttribute("data-type","arrow-down")),A.classList.add("arrowD-".concat(v)),A.style="margin:4px; text-align:center !important;"),s.appendChild(A)}else if(n.characteristicsArtifact.hasOwnProperty("arrow"))for(var w=0;w<n.characteristicsArtifact.arrow.count;w++){var k=document.createElement("div");"down"==def[i].characteristicsArtifact.arrow.direction?(k.classList.add("arrowDown"),k.setAttribute("data-type","arrow-down")):(k.classList.add("arrowUp"),k.setAttribute("data-type","arrow-up")),k.classList.add("arrowD-".concat(w)),k.style="margin:4px; text-align:center;",s.appendChild(k)}s.style.width=n.characteristicsArtifact.width,s.style.height=n.characteristicsArtifact.height,s.style.margin="8px",s.classList.add("paddingMath"),null!=def[i].characteristicsArtifact.border?def[i].characteristicsArtifact.border:s.classList.add("borderDefault"),contenedor.appendChild(s),def[i].buttonsActive&&divControllerButton(_defineProperty(_defineProperty(_defineProperty({clone:s,screenDivArray:o,keyDivArray:c,def:def[i],artifact:i},"artifact",i),"equationArray",r),"solutionArray",d))}else def[i].characteristicsArtifact.hasOwnProperty("page")&&(contenedor.classList.remove("mainContent"),contenedor.classList.add("contentText"),(a=document.createElement("div")).classList.add("contentText"),def[i].characteristicsArtifact.page.map(function(e,t){pageText(e,a,s,def[i]),contenedor.appendChild(s)})),def[i].characteristicsArtifact.hasOwnProperty("tablet")&&(contenedor.classList.add("mainContent"),(l=document.createElement("div")).classList.add("contentText"),generarTabla({divContenText:l,clone:s,def:def[i],artifact:i}),contenedor.appendChild(s)),def[i].characteristicsArtifact.hasOwnProperty("tree")&&(contenedor.classList.add("mainContent"),generateTree({clone:s,def:def[i],artifact:i}),contenedor.appendChild(s))}function refactValidate(){var l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=new ComputeEngine.ComputeEngine({numericMode:"machine"});l.def.conditions[l.key].forEach(function(e,t){var a=l.validate[t];l.mode?0<e.length&&(a.hasAttribute("disabled")||""===a.value?(a.setAttribute("data-forAnswer","forAnswer"),a.removeAttribute("data-pass"),a.removeAttribute("data-failed"),a.classList.remove("pass"),a.classList.remove("failed"),l.def.dataInteraction.forAnswer++):validateInput(_objectSpread({conditions:e,input:a,computerEngine:r},l))?(a.setAttribute("data-pass","pass"),a.classList.add("pass"),a.classList.remove("failed"),a.removeAttribute("data-failed"),a.removeAttribute("data-forAnswer"),l.def.dataInteraction.correct++):(Array.from(a.classList).includes("failed")&&(a.classList.add("bounce"),setTimeout(function(){a.classList.remove("bounce")},1e3)),a.classList.add("failed"),a.classList.remove("pass"),a.setAttribute("data-failed","failed"),a.removeAttribute("data-pass"),a.removeAttribute("data-forAnswer"),l.def.dataInteraction.incorrect++)):a.hasAttribute("disabled")||""===a.value||""!=a.value&&(a.value="",a.classList.remove("pass"),a.classList.remove("failed"),l.def.dataInteraction.correct=0,l.def.dataInteraction.incorrect=0,l.def.dataInteraction.forAnswer=0)})}function validateInput(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=t.def.noiseDecimal,l=/[,.]/gi,r=t.computerEngine.parse(t.input.value.replace(new RegExp(/\b[x|\w*x\w]\b/gi),function(e){return"x"===e?t.def.variableX:e}));return t.conditions.some(function(e){return"number"==typeof e?(t.def.depure&&console.log((Array.isArray(r.N()._value)?r.evaluate():r.N())._value),(!(0<t.def.minDecimal)||!(1<String(e).split(l).at(-1).length&&t.input.value.split(l).at(-1).length<t.def.minDecimal))&&gInterPoint((Array.isArray(r.N()._value)?r.evaluate():r.N())._value,e,a,t.def.minDecimal)):(t.def.depure&&console.log(e===t.input.value.replace(new RegExp(/\\|\$/gi),"")),gClearInputLatex(e).replace(new RegExp("[' ']","g"),"")===gClearInputLatex(t.input.value).replace(new RegExp(/\\|\$/gi),"").replace(new RegExp("[' ']","g"),""))})}function divControllerButton(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=document.createElement("div"),a=document.createElement("button"),l=document.createElement("button");t.classList.add("divControllerButton"),a.classList.add("check","buttonPrimary","button-marg","buttonKey"),l.classList.add("reset","buttonSecundary","button-marg","buttonKey"),a.addEventListener("click",function(){mn(_objectSpread(_objectSpread({},e),{},{mode:!0}))}),l.addEventListener("click",function(){mn(_objectSpread(_objectSpread({},e),{},{mode:!1}))}),t.appendChild(l),t.appendChild(a),(e.contenedorTablet||e.content||e.clone).appendChild(t)}function mn(e){e.def.dataInteraction.correct=0,e.def.dataInteraction.incorrect=0,e.def.dataInteraction.forAnswer=0,e.def.conditions.equation&&refactValidate(_objectSpread(_objectSpread({},e),{},{mode:e.mode,validate:e.equationArray,key:"equation"})),e.def.conditions.key&&refactValidate(_objectSpread(_objectSpread({},e),{},{mode:e.mode,validate:e.keyDivArray,key:"key"})),e.def.conditions.screen&&refactValidate(_objectSpread(_objectSpread({},e),{},{mode:e.mode,validate:e.screenDivArray,key:"screen"})),e.def.conditions.solution&&refactValidate(_objectSpread(_objectSpread({},e),{},{mode:e.mode,validate:e.solutionArray,key:"solution"})),e.def.conditions.table&&refactValidate(_objectSpread(_objectSpread({},e),{},{mode:e.mode,validate:e.mathArray,key:"table"})),e.def.conditions.nodoLeft&&refactValidate(_objectSpread(_objectSpread({},e),{},{mode:e.mode,validate:e.nodoLeft,key:"nodoLeft"})),e.def.conditions.nodoRight&&refactValidate(_objectSpread(_objectSpread({},e),{},{mode:e.mode,validate:e.nodoRight,key:"nodoRight"})),e.def.conditions.nodoOperator&&refactValidate(_objectSpread(_objectSpread({},e),{},{mode:e.mode,validate:e.nodoOperator,key:"nodoOperator"})),e.def.conditions.nodoResult&&refactValidate(_objectSpread(_objectSpread({},e),{},{mode:e.mode,validate:e.nodoResult,key:"nodoResult"})),!1!==e.mode&&("undefined"!=typeof Android&&"function"==typeof Android.sendData?e.def.change&&(Android.sendData(JSON.stringify(cleanDataEngine(_objectSpread({},e)))),e.def.change=!1):(!0===e.mode&&!0===e.def.depure&&console.log("aqui",cleanDataEngine(_objectSpread({},e))),e.def.change&&(console.warn({messageError:"Esta funcion no se encuentra definida o no esta en el mismo ambito"}),sendData(cleanDataEngine(_objectSpread({},e))),e.def.change=!1)))}function cleanDataEngine(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.clone.querySelectorAll("math-field"),e=(e.artifact,e.def),a={},l={};return t.forEach(function(e){e.hasAttribute("disabled")||(l[[e.classList[2]]]=e.value)}),(a={results:e.dataInteraction}).artifact=Number(targetActive.split("_").at(-1)),a.typeArtifact="Standard","Evaluation"==e.typeArtifact?a.typeArtifact="Evaluation":a.typeArtifact="Standard",a.seconds=e.timeInteraction,a.elementArtifact={inputs:{orderInput:l}},console.log("mathEgine",a),a}function keyBoard(e){var t={MG_KEYBOARD_LAYER:{numeros:{rows:[[],[{class:"small",label:"1",key:"1"},{class:"small",label:"2",key:"2"},{class:"small",label:"3",key:"3"},{class:"small",label:"4",key:"4"},{class:"small",label:"5",key:"5"},{class:"action",label:"<svg><use xlink:href='#svg-arrow-left' /></svg>",command:["performWithFeedback","moveToPreviousChar"]},{class:"action",label:"<svg><use xlink:href='#svg-arrow-right' /></svg>",command:["performWithFeedback","moveToNextChar"]}],[{class:"small",label:"6",key:"6"},{class:"small",label:"7",key:"7"},{class:"small",label:"8",key:"8"},{class:"small",label:"9",key:"9"},{class:"small",label:"0",key:"0"},{class:"small",label:"=",key:"="},{class:"action font-glyph bottom right",label:"&#x232b;",command:["performWithFeedback","deleteBackward"]}],[{class:"small",label:"+",key:"+"},{class:"small",latex:"-",key:"-"},{class:"small",label:"*",key:"*"},{class:"small",insert:"\\frac{\\placeholder{}}{\\placeholder{}}"},{class:"small",label:".",key:"."},{class:"small",label:",",key:","},{class:"small",label:";",key:";"}]]},funciones:{rows:[[],[{class:"small",insert:"\\sin"},{class:"small",insert:"\\cos"},{class:"small",insert:"\\tan"},{class:"small",insert:"\\ln"},{class:"small",insert:"\\placeholder{}^{\\placeholder{}}"},{class:"small",insert:"\\placeholder{}^2"},{class:"action",label:"<svg><use xlink:href='#svg-arrow-left' /></svg>",command:["performWithFeedback","moveToPreviousChar"]},{class:"action",label:"<svg><use xlink:href='#svg-arrow-right' /></svg>",command:["performWithFeedback","moveToNextChar"]}],[{class:"small w15",insert:"\\sin^{-1}"},{class:"small w15",insert:"\\cos^{-1}"},{class:"small w15",insert:"\\tan^{-1}"},{class:"small",insert:"\\exponentialE"},{class:"small",insert:"\\sqrt{\\placeholder{}}"},{class:"small",label:"(",key:"("},{class:"small",label:")",key:")"},{class:"action font-glyph bottom right",label:"&#x232b;",command:["performWithFeedback","deleteBackward"]}],[{class:"small w15",insert:"f"},{class:"small w15",insert:"f^{-1}"},{class:"small w15",insert:"g"},{class:"small w15",insert:"g^{-1}"},{class:"small w15",insert:"k"},{class:"small w15",insert:"k^{-1}"},{class:"small w15",insert:"h"},{class:"small w15",insert:"h^{-1}"}]]},alfabeto:{rows:[[],[{class:"small",label:"a",key:"a"},{class:"small",label:"b",key:"b"},{class:"small",label:"c",key:"c"},{class:"small",label:"d",key:"d"},{class:"action",label:"<svg><use xlink:href='#svg-arrow-left' /></svg>",command:["performWithFeedback","moveToPreviousChar"]},{class:"action",label:"<svg><use xlink:href='#svg-arrow-right' /></svg>",command:["performWithFeedback","moveToNextChar"]}],[{class:"small",label:"x",key:"x"},{class:"small",label:"y",key:"y"},{class:"small",label:"z",key:"z"},{class:"small",latex:"\\emptyset "},{class:"small",label:"∄",key:"∄"},{class:"action font-glyph bottom right",label:"&#x232b;",command:["performWithFeedback","deleteBackward"]}],[{class:"small",insert:"\\pi"},{},{},{},{},{}]]}},MG_KEYBOARD:{numeros:{label:"123",layer:"numeros"},alfabeto:{label:"Alfabeto",layer:"alfabeto"},funciones:{label:"ƒ()",layer:"funciones"}},virtualKeyboards:"numeros funciones alfabeto"};return e.addEventListener("keydown",function(e){e.preventDefault(),e.target.blur()}),e.addEventListener("focus",function(e){document.querySelectorAll("math-field").forEach(function(e){e.blur()}),e.target.setOptions({customVirtualKeyboardLayers:t.MG_KEYBOARD_LAYER,customVirtualKeyboards:t.MG_KEYBOARD,virtualKeyboards:t.virtualKeyboards})}),e}