function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"==_typeof(e)?e:e+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}function gTime(e){var t,n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],o=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];e&&(e.timeInteraction=null!=(t=null==e?void 0:e.timeInteraction)?t:0,void 0===e.statusValidate&&(e.statusValidate=!1),e.statusValidate||(n?e.timerState||(e.timer=setInterval(function(){e.statusValidate?(clearInterval(e.timer),e.timeInteraction=0):(e.timeInteraction++,e.debug&&console.log(e.timeInteraction))},1e3),e.timerState=!0):(e.timer&&(clearInterval(e.timer),e.timerState=!1),o&&(e.timeInteraction=0,e.statusValidate=!0))))}function loadTemplates(){try{document.querySelector("#tmp-config").remove()}catch(e){}document.body.insertAdjacentHTML("afterend",'\n  \n  \n  <template id="tmp-config">\n  <div\n     class="centerFloat pr-1 pl-1 toggleDisplay divConfig">\n     <div class="configTop " >\n\n  \n\n        <p style="margin:0px">Configuraciones</p>\n        <button class="btnClose closed buttonKey button-marg"></button>\n \n        </div>\n\n     <div class="configBottom"> \n \n           <p style="margin-bottom:10px"> Holgura de la curva</p>\n\n\n           <div class="w-100  curvesBar buttonOptions d-flex justify-content-around">\n          \n\n\n\n<button id="curve3">\n\n<img id="curve3" src="../../../assets/cap_2/curve3.svg" alt="hello" style="width:3rem;">\n</button>\n<button id="curve2">\n<img id="curve2" src="../../../assets/cap_2/curve2.svg" alt="hello" style="width:3rem;">\n</button>\n\n<button id="curve1" style="margin-bottom:10px">\n<img id="curve1" src="../../../assets/cap_2/curve1.svg" alt="hello" style="width:3rem;">\n</button>\n\n          \n           </div>\n           <p style="margin-bottom:10px"> Color de la curva</p>\n\n<div class="row  ">\n<div class="col-4 p-0 m-0 d-flex align-items-center ">\n<svg xmlns="http://www.w3.org/2000/svg" height="0.8em" viewBox="0 0 512 512">\x3c!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path d="M341.6 29.2L240.1 130.8l-9.4-9.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-9.4-9.4L482.8 170.4c39-39 39-102.2 0-141.1s-102.2-39-141.1 0zM55.4 323.3c-15 15-23.4 35.4-23.4 56.6v42.4L5.4 462.2c-8.5 12.7-6.8 29.6 4 40.4s27.7 12.5 40.4 4L89.7 480h42.4c21.2 0 41.6-8.4 56.6-23.4L309.4 335.9l-45.3-45.3L143.4 411.3c-3 3-7.1 4.7-11.3 4.7H96V379.9c0-4.2 1.7-8.3 4.7-11.3L221.4 247.9l-45.3-45.3L55.4 323.3z"/></svg>\n\n</div>\n\n<div class="col-4 p-0 m-0 d-flex align-items-center">\n<input class="colorConfig" type="color" name="" id=""> \n\n</div>\n\n<div class="col-4">\n</div>\n</div>\n\n    \n         \n           </div>\n  </div>\n  </template>\n  \n  ')}function gAxies(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=(e.def,e.board),n=e.axie,o=e.position,i=e.values,e=e.color,e=void 0===e?"#000000":e;n?(n=t.create("axis",n),t.create("ticks",[n,o||!1],{drawLabels:!0,labels:i||!1,label:{autoPosition:!0,offset:[-5,0],anchorX:"middle",anchorY:"top",visible:!0},color:e}),n.setAttribute({ticks:{visible:!1}})):console.log("ponle una direction valueAxis:{ xd/yd: [[0, 0], [1, 0]],}")}function gAllPointsDefault(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return i.points.map(function(e,t){var n,o=null;return(o=Array.isArray(e)?i.board.create("point",[e[0],e[1]],_objectSpread({size:e[4]||2,name:null!=e[3]?e[3]:"",label:{visible:null!=e[3]&&""!=e[3],autoPosition:!0,offset:null!=(n=e[8])?n:[0,10],fontSize:null!=(n=e[7])?n:14},fixed:!1,visible:null!=e[2]&&e[2],fillcolor:"string"==typeof e[5]?e[5]:e[5]?"white":"black",strokeColor:"string"==typeof e[5]?e[5]:"black",color:"string"==typeof e[6]?e[6]:null},e)):i.board.create("point",[e.x,e.y],_objectSpread(_objectSpread({size:2,fixed:!1,visible:!1,fillcolor:"black",strokeColor:"black"},e),{},{label:_objectSpread({visible:null!=e.name,autoPosition:!0,offset:[0,10],fontSize:14},e.label)}))).artifactNumber=i.i,o.ignore=i.ignore,o.notEliminate=!0,o.iMod=t,o.label.ignore=!0,e.interactive&&o.on("down",function(){return i.callback(_objectSpread(_objectSpread({},i),{},{point:o,i:t}))}),o})}function gLineDefault(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(o.lines)||(o.lines=[o.lines]),o.lines.map(function(e){var t="object"!=_typeof(e.points[0])||e.points[0].x||0===e.points[0].x?gAllPointsDefault(_objectSpread(_objectSpread({},o),{},{points:e.points})):e.points,n=o.board.create("line",t,_objectSpread({strokeColor:"black",fixed:!0,straightFirst:!1,straightLast:!1,firstArrow:!1,lastArrow:!1,strokeWidth:2,name:e.name,label:{visible:e.name,autoPosition:!0},navbar:{strokeColor:"blue",fillColor:"orange",highlightFillColor:"#aaaaaa",padding:"2px",position:"absolute",fontSize:"14px",cursor:"pointer",zIndex:"100",right:"5px",bottom:"40px"},fullscreen:{symbol:"⋇",scale:.95},precision:{touch:8,mouse:3,pen:5,hasPoint:1}},e));return n.iMod=o.iMod,n.typeCurve=e.typeCurve,e.name&&gTextDefault(_objectSpread(_objectSpread({},o),{},{texts:[e.name]})),e.interactive&&o.callback&&n.on("down",function(){return o.callback(_objectSpread(_objectSpread({},o),{},{attractor:n}))}),n})}function gCurveDefault(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return i.curves.map(function(e){var t,n=_objectSpread({strokeColor:"black",strokeWidth:1.5,fixed:!0,label:{autoPosition:!0,visible:!0},precision:{touch:8,mouse:3,pen:5,hasPoint:1}},e),o=i.board.create("cardinalspline",[gAllPointsDefault(_objectSpread(_objectSpread({},i),{},{points:e.points})),null!=(t=e.flex)?t:1,"centripetal"],n);return null!=n&&n.addToObjet&&Object.keys(n.addToObjet).forEach(function(e){o[e]=n.addToObjet[e]}),e.name&&gTextDefault(_objectSpread(_objectSpread({},i),{},{texts:[e.name]})),o.iMod=i.iMod,o.typeCurve=e.typeCurve||"curve",e.interactive&&o.on("down",function(){return i.callback(_objectSpread(_objectSpread({},i),{},{attractor:o}))}),o})}function gPolygon(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.polygons.map(function(e){return e.name&&gTextDefault(_objectSpread(_objectSpread({},t),{},{texts:[e.name]})),t.board.create("polygon",e.points,_objectSpread({fixed:!0,withLines:!1,fillColor:"grey",fillOpacity:.1,vertices:{visible:!1,fixed:!0}},e.styles))})}function gArcDefault(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return n.arcs.map(function(e){var t=n.board.create("arc",gAllPointsDefault(_objectSpread({points:e.points},n)),e.style);return e.name&&gTextDefault(_objectSpread(_objectSpread({},n),{},{texts:[e.name]})),e.interactive&&t.on("down",function(){return callback(_objectSpread(_objectSpread({},n),{},{attractor:t}))}),t})}function gTextDefault(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return o.texts.map(function(e){var t=_objectSpread({fontSize:20,fixed:!0},e.style),n=o.board.create("text",[e.x,e.y,e.text],t);return e.interactive&&n.on("down",function(){return callback[callback.text?"text":"default"](def,board,id,n)}),n.ignore=!0,n})}function gBoard(e,t,n,o){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},r=5<arguments.length?arguments[5]:void 0,l=6<arguments.length?arguments[6]:void 0,i=_objectSpread({default:function(e,t,n,o){return gFuntionDefault(e,t,n,o)}},i),a={},s=(o.reflectionAxie={Y:(null==(s=o.reflectionAxie)?void 0:s.Y)||!1,X:(null==(s=o.reflectionAxie)?void 0:s.X)||!1,B:(null==(s=o.reflectionAxie)?void 0:s.B)||!1},JXG.JSXGraph.initBoard(n,_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({label:{visible:!1},axis:o.axis[0]||!1,boundingbox:o.boundingbox||[-4,4,4,-4],maxboundingbox:[-15,15,15,-15],grid:o.grid||!1},"grid",{strokeColor:!!o.grid&&(null!=o&&null!=(s=o.grid)&&s.style?null==o||null==(s=o.grid)?void 0:s.style:"grey")}),"showNavigation",null!=(s=null==o?void 0:o.showNavigation)&&s),"showCopyright",!1),"keyboard",{enabled:!1,dy:30,panShift:!0,panCtrl:!1}),"pan",{needTwoFingers:!0,enabled:!1,needShift:!0}),"showFullscreen",null!=(s=null==o?void 0:o.showFullscreen)&&s),"fullscreen",1==(null==o?void 0:o.showFullscreen)&&{symbol:"⋇",scale:.95}),"zoom",{needShift:!1,pinchHorizontal:!1,pinchVertical:!1,pinchSensitivity:0,min:1e3,max:0,factorX:0,factorY:0,wheel:!1}))),c=(JXG.Options.navbar={fillColor:"transparent",highlightFillColor:"#aaaaaa",padding:"2px",position:"absolute",fontSize:"18px",cursor:"pointer",zIndex:"100",right:"5px",bottom:"5px"},!o.axis[0]&&o.axis[1]&&gAxies({def:e,board:s,axie:null==(c=o.valueAxis)?void 0:c.xd,position:null==(c=o.valueAxis)?void 0:c.xp,values:null==(c=o.valueAxis)?void 0:c.xv,color:null==(c=o.valueAxis)?void 0:c.colorx}),!o.axis[0]&&o.axis[2]&&gAxies({def:e,board:s,axie:null==(c=o.valueAxis)?void 0:c.yd,position:null==(c=o.valueAxis)?void 0:c.yp,values:null==(c=o.valueAxis)?void 0:c.yv,color:null==(c=o.valueAxis)?void 0:c.colory}),[_objectSpread({points:[[-8,-8],[8,8]],visible:null==o||null==(c=o.reflectionAxie)?void 0:c.B,interactive:!1,typeCurve:"bisectriz"},o.reflectionAxie.B),_objectSpread({points:[[-8,0],[8,0]],visible:null==o||null==(c=o.reflectionAxie)?void 0:c.X,interactive:!1,typeCurve:"eje_x"},o.reflectionAxie.X),_objectSpread({points:[[0,-8],[0,8]],visible:null==o||null==(c=o.reflectionAxie)?void 0:c.Y,interactive:!1,typeCurve:"eje_y"},o.reflectionAxie.Y)]),u=[_objectSpread({points:[[-8,-8],[8,8]],visible:null==o||null==(u=o.reflectionAxie)?void 0:u.B,interactive:!1,typeCurve:"bisectriz"},o.reflectionAxie.B)],o=gCurveDefault(_objectSpread({def:e,board:s,id:n,curves:u},l)),u=gLineDefault(_objectSpread({def:e,board:s,id:n,lines:c,callback:i.line||i.default},l));return e.reflectionAxie={axieB:u[0],axieX:u[1],axieY:u[2],axieBCurve:o[0]},t.points&&(a.points=gAllPointsDefault(_objectSpread({callback:i.point||i.default,def:e,board:s,id:n,points:t.points,i:r},l))),t.lines&&(a.lines=gLineDefault(_objectSpread({callback:i.line||i.default,def:e,board:s,id:n,lines:t.lines},l))),t.curves&&(a.curves=gCurveDefault(_objectSpread({callback:i.curve||i.default,def:e,board:s,id:n,curves:t.curves},l))),t.texts&&(a.texts=gTextDefault(_objectSpread({callback:i.text||i.default,def:e,board:s,id:n,texts:t.texts},l))),t.polygons&&(a.polygon=gPolygon(_objectSpread({callback:i.polygon||i.default,def:e,board:s,id:n,polygons:t.polygons},l))),t.arcs&&(a.arcs=gArcDefault(_objectSpread({callback:i.arc||i.default,def:e,board:s,id:n,arcs:t.arcs},l))),t.asymptotes&&(a.asymptotes=gAsymptotes(_objectSpread({def:e,asymptotes:t.asymptotes,board:s},l))),t.expressionCurve&&(a.expressionCurve=gExpressionCurve(_objectSpread({def:e,board:s,expression:t.expressionCurve},l))),t.inputs&&(a.inputs=createInputs({board:s,inputs:t.inputs})),{board:s,resultObj:a}}function gAlerts(e){var t=e.def,n=e.id,o=e.text,i=e.type,i=void 0===i?1:i,r=e.size,r=void 0===r?15:r,e=e.timer,l=void 0===e?4:e,e=(null==t.timeAlertCounts&&(t.timeAlertCounts=0),t.timerAlertState&&(t.textAlert&&(t.textAlert.remove(),t.textAlert=null),t.timeAlertCounts=0,clearInterval(t.timerAlert),t.timerAlertState=!1),document.createElement("p"));e.textContent=o,e.classList.add(1==i?"successNotification":2==i?"errorNotification":"infoNotification","gAlert","centerFloat"),e.width="fit-content",e.maxWidth="90%",t.timerAlertState||1==i||(t.timerAlert=setInterval(function(){t.timeAlertCounts++,t.debug&&console.log(t.timeAlertCounts),l==t.timeAlertCounts&&(t.timeAlertCounts=0,clearInterval(t.timerAlert),t.textAlert&&(t.textAlert.remove(),t.textAlert=!1),t.timerAlertState=!1)},1e3),t.timerAlertState=!0),e.style.fontSize&&(console.console.warn("le tone valor a la fuente"),e.style.fontSize=r+"px"),(document.querySelector("#"+n).querySelector(".jxgbox")?((o=document.querySelector("#"+n).querySelector(".jxgbox")).style.display="grid",o.style.placeItems="center",o):document.querySelector("#"+n)).appendChild(e),t.textAlert=e}function displayConfig(){var e,t,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};n.def.divConfig?(n.def.divConfig.remove(),n.def.divConfig=null):((t=document.querySelector("#tmp-config").content.firstElementChild.cloneNode(!0)).querySelector(".buttonOptions").addEventListener("click",function(e){var t;(toEdit=null==(t=n.def.config)?void 0:t.curves).flex=2,"curve1"==e.target.id?toEdit.flex=1:"curve2"==e.target.id?toEdit.flex=.5:"curve3"==e.target.id&&(toEdit.flex=0)}),t.querySelector(".colorConfig").value=null!=(e=null==(e=n.def.config)||null==(e=e.curves)?void 0:e.color)?e:"black",document.querySelector("#"+n.id).appendChild(t),n.def.divConfig=t)}function gInterPoint(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:.1,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:2;return"number"==typeof e&&"number"==typeof t&&parseFloat(e.toFixed(o))<=parseFloat(t.toFixed(o))+n&&parseFloat(e.toFixed(o))>=parseFloat(t.toFixed(o))-n}function gFuntionDefault(e,t,n){console.log(" ************ Default ************* "),console.log(e),console.log(t),console.log(n)}function gButtonToggle(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:_objectSpread({toggleResect:!0,option:!0,buttonActive:"buttonActive"},e),t=e.toggleResect,n=e.option,o=e.button,i=e.def,r=e.buttonActive,e=e.mode;null!=o&&i[r]!=o?(null!=i[r]&&i[r].classList.toggle("buttonDownActive"),i.mode=e,i[r]=o,n&&i[r].classList.toggle("buttonDownActive")):(null!=i[r]&&i[r].classList.toggle("buttonDownActive"),t&&(i.mode=null,(i.iMod=null)!=i[r])&&(i[r]=null))}function gRecurcibeObjectHtml(e){var t=document.createElement(e.type||"div");if(gSetAttributeDivs(t,e),null!=e.chields)for(var n=0,o=Object.values(e.chields);n<o.length;n++){var i=o[n];t.appendChild(gRecurcibeObjectHtml(i))}return t}function gSetAttributeDivs(t,e){if(e.id&&t.setAttribute("id",e.id),e.attributes)for(var n=0,o=Object.keys(e.attributes);n<o.length;n++){var i=o[n];t.setAttribute(i,e.attributes[i])}e.class&&(t.className=e.class+"".concat("button"==e.type?" button-marg buttonKey":""," \n   ").concat(e.dataSet&&-1!=e.dataSet.findIndex(function(e){return"text"===e[0]})?"buttonText":"",";\n   ").concat(e.dataSet&&-1!=e.dataSet.findIndex(function(e){return"tool"===e[0]})?"buttonTool":"")),e.title&&t.setAttribute("title",e.title),e.dataSet&&e.dataSet.forEach(function(e){t.setAttribute("data-"+e[0],e[1])}),e.styles&&(t.style=e.styles),e.value&&(t.value=e.value),t.textContent=e.content}function gMakeModal(e){document.body.insertAdjacentHTML("afterend",'\n  <div id="myModal" class="modal">\n     \x3c!-- Modal content --\x3e\n     <div class="modal-content">\n         <div class="top-bar" >\n           <buttom class="closed close buttonAux"></buttom>\n           <H3 id="title-modal">modal default</H3> \n        </div >\n        <p id="text-modal">Alcaravan</p>\n     </div >\n  </div > ');var t=document.getElementById("myModal");return t.addEventListener("click",function(e){e.target.classList.contains("close")&&(t.style.display="none")}),window.onclick=function(e){e.target==t&&(t.style.display="none")},t}function gCompareCurves(e,t){var n,o,i,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2,l=3<arguments.length&&void 0!==arguments[3]&&arguments[3],a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:.1,s=5<arguments.length&&void 0!==arguments[5]?arguments[5]:.1,c=6<arguments.length&&void 0!==arguments[6]?arguments[6]:[.2,.8];if(e)return n=e.points.map(function(e){return[e.usrCoords[1],e.usrCoords[2]]}),i=o=null,r<=t.length&&t.every(function(t){Array.isArray(t)||(t=[t.X(),t.Y()]);var e=n.findIndex(function(e){return e[0]>t[0]-s&&e[0]<t[0]+s&&e[1]>t[1]-a&&e[1]<t[1]+a});return(l.first||l||e<Math.round(n.length*c[0]))&&(o=!0),(l.last||l||e>Math.round(n.length*c[1]))&&(i=!0),-1!=e})&&!0===o&&!0===i}function gAddPoint(t,n){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"black",i=3<arguments.length?arguments[3]:void 0,e=4<arguments.length?arguments[4]:void 0,r=[];if(!e){if(e=n.getUsrCoordsOfMouse(),void 0!==t.curves&&void 0!==t.points||(t.points=[[]],t.curves=[]),5!=t.mode&&(t.maxCurves<=t.curves.length||4!=t.mode))return;if(void 0===a&&(a="desktop"),-1!==n.getAllUnderMouse().findIndex(function(e){var t;return"asymptote"!=(null==(t=i)?void 0:t.type)&&"asymptote"===e.type&&(i=e),!Array.isArray(e)&&["glider","point"].includes(e.elType)}))return}var l,a,s=e[0],c=5==t.mode?0:e[1],e=i?[s,c,i]:[s,c],u=5===t.mode,d=n.create(i?"glider":"point",e,{visible:!0,size:"desktop"==a?2.5:4,color:o,opacity:.8,name:"",fixed:!1,isDraggable:!1,anchor:i}),s=(i&&(i.pointsData.push(d),s=i.pointsData.length-1,r.push({element:d,from:i.pointsData,index:s})),d.mode=t.mode,d.setAttribute({visible:function(){return i||4===t.mode&&!u||t.mode===d.mode||6==t.mode}}),5==t.mode&&null!=(e=t.conditions)&&e.asymptotes?((l=gLineDefault({board:n,lines:_objectSpread({points:[[function(){return d.X()},-20],[function(){return d.X()},20]]},_objectSpread({dash:2},null==(a=t.conditions)?void 0:a.asymptotes))})[0]).type="asymptote",l.pointsData=[],l.on("down",function(){var e;(null!=(e=t.conditions)&&null!=(e=e.asymptotes)&&e.addpoints&&4==t.mode||null!=(e=t.conditions)&&null!=(e=e.asymptotes)&&e.positionY)&&gAddPoint(t,n,o,l)}),n.on("move",function(){d.moveTo([d.X(),c])}),t.asymptotes.push([d,l]),t.other.push(l),s=t.asymptotes.length-1,r.push({element:[d,l],from:t.asymptotes,index:s}),e=t.other.length-1,r.push({element:l,from:t.other,index:e})):(t.points.at(-1).push(d),a=t.points.at(-1).length-1,r.push({element:d,from:t.points.at(-1),index:a})),(4==t.mode&&null!=(s=t.conditions)&&null!=(s=s.road)&&null!=(s=s.curve)&&s.same||null!=(e=t.conditions)&&null!=(e=e.others)&&null!=(e=e.curve)&&e.same)&&(a=t.reflectionAxie.axieB,s=n.create("transform",[a],{type:"reflect"}),e=n.create("point",[d,s],{name:"",color:"green",visible:function(){return t.debug&&4==t.mode}}),t.samePoints.at(-1).push(e),a=t.samePoints.at(-1).length-1,r.push({element:e,from:t.samePoints.at(-1),index:a}),n.update()),t.other.push(d),t.other.length-1);return r.push({element:d,from:t.other,index:s}),d.label.ignore=!0,t.memory.push(r),d}function gAddCurv(e,t){var n,o=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],r=[],l="desktop"==(l=void 0===l?"desktop":l)?2.5:3;if(!(e.maxCurves<=e.curves.length||!o&&(!e.points.at(-1)||e.points.at(-1).length<2)))return(null!=(n=null==(n=e.curveMod)?void 0:n.sort)?n:i)&&e.points[e.points.length-1].sort(function(e,t){return e.coords.usrCoords[1]-t.coords.usrCoords[1]}),n=o?o.map(function(e){return e}):e.points.at(-1).map(function(e){return e}),(n=t.create("cardinalspline",[n,null!=(n=null==(i=e.config)||null==(i=i.curves)?void 0:i.flex)?n:1,"centripetal"],{strokeColor:null!=(n=null==(i=e.config)||null==(i=i.curves)?void 0:i.color)?n:null==(i=e.curveMod)?void 0:i.color,strokeWidth:l})).interactive=!0,t.update(),o||(e.samePoints.push([]),i=e.samePoints.length-1,l=e.samePoints.at(-1),r.push({element:l,from:e.samePoints,index:i}),e.curves.push(n),t=e.curves.length-1,r.push({element:n,from:e.curves,index:t}),e.points.push([]),o=e.points.length-1,l=e.points.at(-1),r.push({element:l,from:e.points,index:o})),e.memory.push(r),n}function gExtractCoords(e){return[parseFloat(e.X().toFixed(3)),parseFloat(e.Y().toFixed(3))]}function gHelpMsg(e,t,n){var o,i,r,l=new DocumentFragment("div"),a=t.querySelector(".btn-all"),e="object"===_typeof(e.helpMsg)?e.helpMsg:'Trabajo Realizado "Por el derecho a comprender"',s='<div class="etwArtifact__help-msg" id="'.concat(n,'-helpMsg">\n                 <div class="etwArtifact__help-msg-content">\n                    <div class="etwArtifact__help-msg-btnClose-container">\n                       <button class="etwArtifact__help-msg-btnClose btnCloseMsg button-marg buttonTertiary buttonKey" id="').concat(n,'-closeMsg"></button>\n                    </div>\n                    <div class="etwArtifact__help-msg-textHelp" id="').concat(n,'-containerHelpMsg"></div>\n                    </div>\n              </div>'),c=document.createElement("div"),u=(c.style.position="relative",c.classList.add("div-text-help"),c.style="  \n   height: 100%!important;\n   min-height: 100%; \n   position: absolute; \n   top: 0; \n   right: 0; \n   bottom: 0;\n   width: 100%;\n   display:none;\n   ",l.appendChild(c),c.insertAdjacentHTML("afterbegin",s),l.getElementById("".concat(n,"-helpMsg"))),s=l.getElementById("".concat(n,"-containerHelpMsg")),n=l.getElementById("".concat(n,"-closeMsg"));!0===e.addHtml?s.insertAdjacentHTML("afterend",e.html):(i=document.createElement("h3"),(r=document.createElement("p")).style.marginTop=e.marginTop||"24px",r.style.fontSize=e.fontSize||"16px",i.appendChild(document.createTextNode(null!=(o=e.title)?o:"<insertar titulo>")),r.appendChild(document.createTextNode(null!=(o=e.text)?o:"<insertar texto en definicion>")),s.appendChild(i),s.appendChild(r)),t.insertBefore(l,t.children[0]),a.addEventListener("click",function(e){(e.target.classList.contains("help")||e.target.classList.contains("help-btn"))&&(c.style.display="block",setTimeout(function(){u.style.transform="translate(0%)"},100))}),n.addEventListener("click",function(){u.style.transform="translate(-100%)",setTimeout(function(){c.style.display="none"},1e3)})}function gOperationCurves(){function e(e){return e.reduce(function(e,t){var n=t.usrCoords[1].toFixed(l),t=t.usrCoords[2].toFixed(l);return e[n]||(e[n]=t),e},{})}var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:_objectSpread({strokeColor:"blue",positionline:-4,noise:8,type:1},t),n=t.curve_1,o=t.curve_2,i=t.type,r=t.board,l=null!=(c=t.def.accuracy)?c:2,a=e(n.points),s=e(o.points),c=r.create("curve",["x",function(e){var t,e=e.toFixed(l),n=parseFloat(a[e]),e=parseFloat(s[e]);return"1"==i&&(t=n+e),"2"==i&&(t=n*e),"3"==i&&(t=n-e),t="4"==i?n/e:t}],{visible:t.def.debug,strokeColor:"green",strokeWidth:3});return r.update(),[c]}function travelCurve(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.divitions,n=e.line,o=e.board,i=e.newPoint1,r=e.newPoint2,l=e.arrayOut,a=e.min,s=0;s<t&&!Number.isNaN(i.X())&&!Number.isNaN(r.X());s++)n.point1.setPositionDirectly(JXG.COORDS_BY_USER,[n.point2.X()+(0==s?0:a),n.point1.Y()]),n.point2.setPositionDirectly(JXG.COORDS_BY_USER,[n.point2.X()+(0==s?0:a),n.point2.Y()]),l.push(operationCurves(_objectSpread(_objectSpread({},e),{},{newPoint1:i,newPoint2:r,arrayOut:l,board:o}))),o.update()}function operationCurves(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=t.newPoint1,o=t.newPoint2,i=t.type,t=t.board;if(!Number.isNaN(n.X())&&!Number.isNaN(o.X())){switch(i){case 1:e=n.Y()+o.Y();break;case 2:e=n.Y()*o.Y();break;case 3:e=n.Y()-o.Y();break;case 4:e=n.Y()/o.Y();break;default:e=0}return t.create("point",[n.X(),e],{visible:!1,color:"blue",name:"",size:1})}}function gDist(e,t){var n;return e&&t?(n=Math.pow((Array.isArray(e)?e[0]:e.X())-(Array.isArray(t)?t[0]:t.X()),2),e=Math.pow((Array.isArray(e)?e[1]:e.Y())-(Array.isArray(t)?t[1]:t.Y()),2),Math.sqrt(n+e)):null}function gTextToLatex(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").replace(/[\) 　]/g,"").replace("(","").split(",(").map(function(e){return e.match(/[\/]/g)?"(".concat(e.split(",").map(function(e){return e.match(/[\/]/g)?"\\frac{".concat(e.replace("/","}{"),"}"):e}).join(","),")"):"(".concat(e.replace(/π/g,"\\pi"),")")}).join()}function gAsymptotes(e){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:_objectSpread({},e),e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:e,n=(e.def,e.board),e=e.asymptotes,o=n.attr.boundingbox;if(0<e.length)return e.map(function(e){var t=gLineDefault({board:n,lines:_objectSpread({points:[_objectSpread({x:e.x,y:o[1]},null==e||null==(t=e.style)?void 0:t.point),_objectSpread({x:e.x,y:o[3]},null==e||null==(t=e.style)?void 0:t.point)]},_objectSpread({dash:2},e.style))})[0];return t.pointsData=[],t.validate=null!=(e=null==e?void 0:e.validate)&&e,t.type="asymptote",[Object.values(t.ancestors)[0],t]})}function gStyleMath(e){e._mathfield.element.style.width="100%",e._mathfield.element.style.height="100%",e._mathfield.element.childNodes[1].style.cssText="justify-content: center;",e._mathfield.element.childNodes[1].childNodes[0].style.cssText="justify-content: center; font-weight: bolder;",e.inlineShortcutTimeout=.1,e.addEventListener("focus",function(e){e.target.style.zIndex="100",document.querySelectorAll("math-field").forEach(function(e){e.blur(),e.style.zIndex="9"})})}function gClearInputLatex(e){var e=e.replace(/\\/g,""),t={"right.":")","ight\\)":")","\\^{}":"","left\\(":"(","\\$":""," ":""},n=e;return Object.keys(t).forEach(function(e){n=n.replace(new RegExp(e,"g"),t[e])}),n=(n=n.replace(/\s/g,"")).replace(/\n/g,"")}loadTemplates();var CreateSelectsPoints=function(){return _createClass(function e(t,n,o){var s=this,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"after";_classCallCheck(this,e),_defineProperty(this,"initSelector",function(i){s.defAll.forEach(function(e,t){var n=e.callback,o=e.value;s.createObtion(null!=n?n:i,s.ul,null!=o?o:t,e.style,e.data,e.content)}),s.selectMain.addEventListener("click",function(){s.selectMain.querySelector(".available-options").classList.toggle("displayOptions")}),s.selectMain.appendChild(s.ul),"before"==s.modeInsert?s.parent.insertBefore(s.selectMain,s.parent.firstChild):"after"==s.modeInsert&&s.parent.appendChild(s.selectMain)}),_defineProperty(this,"createObtion",function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"default",o=3<arguments.length?arguments[3]:void 0,i=4<arguments.length?arguments[4]:void 0,r=5<arguments.length?arguments[5]:void 0,l=o.color,a=document.createElement("li"),o=document.createElement("span");return r&&"string"==typeof r?o.textContent=r:o.classList.add("punto-color","color"),a.dataset.value=n,a.classList.add("available-option"),a.addEventListener("click",function(e){s.value=n,s.setColor(s.colorBase.childNodes[0],l),"function"==typeof t&&t(a.dataset.value,i)}),l&&s.setColor(o,l),a.appendChild(o),e.appendChild(a),a}),this.parent=n,this.value=null,this.modeInsert=i,this.selectMain=document.createElement("div"),this.defAll=o,this.ul=document.createElement("ul"),this.colorBase=this.createObtion(null,this.selectMain,null,{color:"black"}),this.selectMain.classList.add("buttonAux","button-marg"),this.selectMain.setAttribute("title","Selector de caminos"),this.ul.classList.add("available-options","displayOptions"),this.initSelector(t)},[{key:"setColor",value:function(e,t){e.style.setProperty("--roadColor",null!=t?t:"black")}},{key:"resetColor",value:function(){this.value=null,this.setColor(this.colorBase.childNodes[0],null)}}])}();function createInputs(e){var t=e.inputs,l=e.board;return t.map(function(e){var t=e.x,n=e.value,o=e.style,i=e.valid,i=void 0!==i&&i,r=n&&!(null!=o&&o.disabled)||!n&&!0===(null==o?void 0:o.disabled),t=l.create("text",[t+(null!=(t=null==o||null==(t=o.input)?void 0:t.noiseX)?t:0),e.y+(null!=(e=null==o||null==(t=o.input)?void 0:t.noiseY)?e:0),"<math-field class='colorInput ".concat(null!=(t=null==o?void 0:o.mathClass)?t:"","' style='").concat(null!=(e=null==o?void 0:o.mathStyle)?e:"","'  ").concat(r?"disabled":"","></math-field>")],_objectSpread(_objectSpread({anchorX:"middle",anchorY:"middle"},o),{},{fixed:!0,layer:20})),e=t.rendNode.childNodes[0];if(null!=o&&o.disabled||n||e.addEventListener("focusin",function(){mathVirtualKeyboard.layouts=["numeric-only"],mathVirtualKeyboard.show()}),e.value=null!=(o=null!=(o=null==n?void 0:n.value)?o:n)?o:"",e.inlineShortcutTimeout=1,e.layouts=["minimalist"],!r||i)return{newInput:t,mathfield:e}}).filter(function(e){return e})}function gExpressionCurve(e){e=_objectSpread(_objectSpread({board:null,expression:"x",interval:[]},e),{},{curveStyle:_objectSpread({strokeColor:"black",strokeWidth:2},e.curveStyle)});return null!=e&&e.board?e.board.create("functiongraph",[e.expression].concat(_toConsumableArray(e.interval)),e.curveStyle):(console.warn("!!!!board no definido, en gExpresionCurve"),null)}