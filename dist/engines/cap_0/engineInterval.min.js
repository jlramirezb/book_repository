function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(t,e){var o,n=Object.keys(t);return Object.getOwnPropertySymbols&&(o=Object.getOwnPropertySymbols(t),e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)),n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(o),!0).forEach(function(e){_defineProperty(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}function _defineProperty(e,t,o){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"==_typeof(e)?e:e+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0===o)return("string"===t?String:Number)(e);o=o.call(e,t||"default");if("object"!=_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}function _createForOfIteratorHelper(e,t){var o,n,r,a,l="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(l)return r=!(n=!0),{s:function(){l=l.call(e)},n:function(){var e=l.next();return n=e.done,e},e:function(e){r=!0,o=e},f:function(){try{n||null==l.return||l.return()}finally{if(r)throw o}}};if(Array.isArray(e)||(l=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return l&&(e=l),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var o;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(o="Object"===(o={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:o)||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}var siteMode="desktop",firstPoint=null;function generation(c){for(var e=document.querySelector("#container-all-artifact"),d=document.getElementById("template-interval"),u=new DocumentFragment,t=0,o=Object.keys(c);t<o.length;t++)!function(t){var e,o=d.content.firstElementChild.cloneNode(!0),n=t,r={debug:!1,interval:c[t].interval||!1,representation:c[t].representation||!1,conditions:{board:(null==(a=c[t].conditions)?void 0:a.board)||!1,valRepre:(null==(a=c[t].conditions)?void 0:a.valRepre)||!1,valInterval:(null==(a=c[t].conditions)?void 0:a.valInterval)||!1},dataInteraction:{correct:0,incorrect:0},preDefPoint:c[t].preDefPoint||!1,preDefPar:c[t].preDefPar||!1,others:[],pointsPares:[],floatPoint:[],board:null,change:!1,inputRight:null,inputLeft:null,state:!1,comment:c[t].comment||!1,equalMatch:c[t].equalMatch||!1,buttonActive:null,timeInteraction:0,statusValidate:!1,modeText:c[t].modeText||!1},a=o.querySelector("#board"),l=o.querySelector(".allButtons"),i=o.querySelector(".inpEngInt1"),s=o.querySelector(".inpEngInt2");keyboardCustom(r,i),keyboardCustom(r,s),o.addEventListener("click",function(e){e.target.tagName,"btn-reset"==e.target.id&&(defButtonToggle(c[t],null,""),defReset(r,n)),"btn-validation"==e.target.id&&(defButtonToggle(c[t],null,""),defValidation(r,n))}),o.setAttribute("id",t),a.setAttribute("id","board_"+t),r.interval&&(i.textContent=c[t].interval,i.setAttribute("disabled","disabled")),r.representation&&(s.textContent=c[t].representation,s.setAttribute("disabled","disabled")),r.representation&&(r.preDefPoint||r.preDefPar)&&r.interval&&o.querySelector("#contentButtons").remove(),null!=r&&null!=(e=r.conditions)&&e.board||!o.querySelector(".allButtons")||(o.querySelector(".allButtons").style.display="none"),u.appendChild(o),r.inputLeft=i,r.inputRight=s,c[t]=r,c[t].comment&&(i.classList.add("yellow"),a.classList.add("yellow")),interactionKeyboard(r,l),o.addEventListener("mouseenter",function(){gTime(r)}),o.addEventListener("click",function(){gTime(r)}),o.addEventListener("mouseleave",function(){gTime(r,!1,!1)})}(o[t]);e.appendChild(u),defBoard(c)}function defBoard(i){for(var s={points:{open:{fillColor:"#FFFFFF",strokeColor:"#f1604d"},closed:{color:"#f1604d",fillColor:"#f1604d",strokeColor:"#f1604d"}},arrow:{color:"#217e9d"},curves:"black",colorLines:["black","#ff8000","blue","red","green"]},e=0,t=Object.keys(i);e<t.length;e++){var c=t[e];!function(){var e=document.querySelector("#board_"+c),t=JXG.JSXGraph.initBoard("board_"+c,{boundingbox:[-1,.5,8,-1],grid:!1,showNavigation:!1,showCopyright:!1,keyboard:{enabled:!1,dy:30,panShift:!0,panCtrl:!1},pan:{needTwoFingers:!1,enabled:!1,needShift:!0},zoom:{needShift:!1,pinchHorizontal:!1,pinchVertical:!1,pinchSensitivity:0,min:1e3,max:0,factorX:0,factorY:0,wheel:!1}}),o=(i[c].board=t,i[c].colors=s,t.create("point",[0,0],{name:"-∞",fixed:!0,fillColor:"white",visible:!1,label:{color:"black",fontSize:20,offset:[-25,1],visible:!0,precision:{touch:10,mouse:5,pen:5,hasPoint:1}}})),n=t.create("point",[7,0],{name:"+∞",fixed:!0,fillColor:"white",visible:!1,label:{color:"black",fontSize:20,offset:[3,1],visible:!0,precision:{touch:10,mouse:5,pen:5,hasPoint:1}}}),r=t.create("arrow",[o,n],{layer:0,color:s.arrow.color,precision:{touch:6,touchMax:5,mouse:5,pen:3,hasPoint:0}}),a=i[c],l=c;r.on("down",function(e){return defNewPoint(a,e,l)}),o.label.on("down",function(){defConection(a,[o,o.name,!0,o.X()],firstPoint,l)}),n.label.on("down",function(){defConection(a,[n,n.name,!0,n.X()],firstPoint,l)}),a.preDefPoint&&defPointDefault(i[c],t),a.preDefPar&&defParDefault(i[c],t),!a.preDefPoint&&!a.preDefPar&&null!=(r=a.conditions)&&r.board||e.classList.add("disabledGraph")}()}defResponsibe()}function defNewPoint(t,e,o){var n=["desktop"==siteMode?.2:.15,"desktop"==siteMode?-.5:-.6],r=t.colors.points;if(-1==t.board.getAllUnderMouse().findIndex(function(e){return"point"===e.elType})&&null!=(l=t.conditions)&&l.board){t.change=!0,t.statusValidate=!1;var a=[null,null,null,null];if(!t.preDefPoint){if(3<t.floatPoint.length||"pointC"!=t.state&&"pointA"!=t.state)return;var l=null,i=t.board.getUsrCoordsOfMouse(e)[0];if(-1!=t.floatPoint.findIndex(function(e){if(gDist([i,0],[e[3],0])<.8)return!0}))return;a[3]=i,"pointA"==t.state&&(s=(e=r.open).strokeColor,l=t.board.create("point",[i,0],{name:"",fillColor:e.fillColor,strokeColor:s,fixed:!0,size:6,precision:{touch:6,touchMax:8,mouse:5,pen:5,hasPoint:1}}),a[2]=!0),"pointC"==t.state&&(s=(e=r.closed).color,l=t.board.create("point",[i,0],{name:"",color:s,strokeColor:e.strokeColor,fillColor:e.fillColor,fixed:!0,size:6,precision:{color:onratechange,touch:6,touchMax:8,mouse:5,pen:5,hasPoint:1}}),a[2]=!1);var r=t.board.create("text",[i+n[1]+.3,n[1]-.1,"<math-field\n         virtual-keyboard-mode='onfocus' \n         placeholder = '(x, y)\n         fonts-directory='fonts'\n         class='colorInput'\n         keypress-sound ='none'></math-field>"],{cssStyle:"width: 30px",fixed:!0,precision:{touch:.01,touchMax:.1,mouse:5,pen:1}}),s=r.rendNode.childNodes[0];keyboardCustom(t,s),s.addEventListener("input",function(){t.change=!0,t.statusValidate=!1,gTime(t)}),a[1]=r,a[0]=l,t.floatPoint.push(a),a[0].on("down",function(e){defConection(t,a,firstPoint,o),t.change=!0,t.statusValidate=!1,gTime(t)}),styleMath(s)}gTime(t),t.change=!0,t.statusValidate=!1}}function defReset(e,t){var o=e.inputLeft,n=e.inputRight,t=document.getElementById("board_"+t);e.board.removeObject(e.others),e.board.removeObject(e.floatPoint),e.floatPoint=[],e.others=[],e.pointsPares=[],o.classList.remove("pass"),o.classList.remove("failed"),o.classList.remove("input-sended"),e.interval||(o.value=""),n.classList.remove("pass"),n.classList.remove("failed"),e.representation||(n.value=""),t.classList.remove("failed"),t.classList.remove("pass"),t.classList.remove("input-sended"),e.statusValidate=!0,e.board.update()}function defValidation(e,t){var o,n;!e.statusValidate&&e.change&&(o=document.getElementById("board_"+t),e.dataInteraction.incorrect=0,e.dataInteraction.correct=0,e.dataInteraction.forAnswer=0,n=e.conditions,e.comment?(e.inputLeft.classList.add("input-sended"),o.classList.add("input-sended")):(e.interval||(""!==e.inputLeft.value.replace(/\\text{}/gi,"").replace(/\\text{}/gi,"")?defCorrectionInputs(n.valInterval,e.inputLeft,e)?e.dataInteraction.correct+=1:e.dataInteraction.incorrect+=1:(e.dataInteraction.forAnswer+=1,e.inputLeft.classList.remove("pass"),e.inputLeft.classList.remove("failed"),e.inputLeft.classList.remove("bounce"))),e.preDefPoint||(0!==defCorrectionBoard(n,t).length?!0===defCorrectionBoard(n,t)?e.dataInteraction.correct+=1:e.dataInteraction.incorrect+=1:e.dataInteraction.forAnswer+=1),e.representation||(""!==e.inputRight.value.replace(/\\text{}/gi,"").replace(/\\text{}/gi,"")?defCorrectionInputs(n.valRepre,e.inputRight,e)?e.dataInteraction.correct+=1:e.dataInteraction.incorrect+=1:(e.dataInteraction.forAnswer+=1,e.inputRight.classList.remove("pass"),e.inputRight.classList.remove("failed"),e.inputRight.classList.remove("bounce")))),"undefined"!=typeof Android&&"function"==typeof Android.sendData&&(Android.sendData(JSON.stringify(cleanData(e,t))),gTime(e,!1),e.change=!1,e.statusValidate=!1),sendData(cleanData(e,t)),gTime(e,!1),e.statusValidate=!0,e.change=!1)}function defCorrectionBoard(e,t){var o={"left\\(":"(","right\\)":")",lbrack:"[",rbrack:"]",lbrace:"{",rbrace:"}",infty:"∞"},n=document.getElementById(t).querySelector("#board_"+t),r=def[t].floatPoint.sort(function(e,t){return e[3]-t[3]}),a=def[t].pointsPares.sort(function(e,t){return e[0][3]-t[0][3]}),l=r.map(function(e){return[latexClear(e[1].rendNode.childNodes[0],o),e[2]]}),i=!1;if(n.classList.remove("pass"),n.classList.remove("failed"),void 0===e.board||0==e.board.length)i=0==l.length&&0==pointAll.length;else{var s=a.map(function(e){return def[t].modeText,["string"==typeof e[0][1]?e[0][1].toLowerCase():latexClear(e[0][1].rendNode.childNodes[0],o),"string"==typeof e[1][1]?e[1][1].toLowerCase():latexClear(e[1][1].rendNode.childNodes[0],o)]});if(e.board){if(0===r.length&&0===a.length&&0===l.length)return[];-1!=e.board.findIndex(function(e,t){return JSON.stringify(s)===(null!=e.pares?JSON.stringify(e.pares):"[]")&&JSON.stringify(l)===(null!=e.points?JSON.stringify(e.points):"[]")})&&(i=!0)}else console.warn("Error en la definición"),i=!1}return i?n.classList.add("pass"):def[t].preDefPoint||n.classList.add("failed"),i}function defPointDefault(e,t){var o,n=e.colors.points,r=_createForOfIteratorHelper(e.preDefPoint);try{for(r.s();!(o=r.n()).done;){var a=o.value,l=n[a[2]?"open":"closed"],i=l.color,s=l.fillColor,c=l.strokeColor;console.log(a),t.create("point",[a[0],a[1]],{color:i,fillColor:s,strokeColor:c,name:" ",fixed:!0,size:6}),t.create("text",[a[0],a[1]-.5,a[3]],{fixed:!0})}}catch(e){r.e(e)}finally{r.f()}}function defParDefault(e,t){var o,n=e.colors.points,r=.15,a=_createForOfIteratorHelper(e.preDefPar);try{for(a.s();!(o=a.n()).done;){for(var l=o.value,i=n[0==l[0][2]?"open":"closed"],s=(t.create("point",[l[0][0],l[0][1]],{name:"",fixed:!0,size:6,color:i.color,fillColor:i.fillColor,strokeColor:i.strokeColor,visible:!0,label:{fontSize:15,offset:[0,1],visible:!0}}),n[0==l[1][2]?"open":"closed"]),c=(t.create("point",[l[1][0],l[1][1]],{name:"",fixed:!0,size:6,color:s.color,fillColor:s.fillColor,visible:!0,label:{fontSize:15,offset:[0,1],visible:!0}}),t.create("text",[l[0][0],l[0][1]-.5,l[0][3]],{fixed:!0}),t.create("text",[l[1][0],l[1][1]-.5,l[1][3]],{fixed:!0}),[]),d=l[0][0];d<=l[1][0];d+=.25)c.push([d+(d==l[0][0]?.05:0),d==l[0][0]||d==l[1][0]?0:r]),r*=-1;t.create("cardinalspline",[c,0,"centripetal"],{layer:2,strokeColor:"black",strokeWidth:1.5,createPoints:!1})}}catch(e){a.e(e)}finally{a.f()}}function defConection(e,t,o,n){var r=["black","#ff8000","blue","red","green"],a=e.colors.points.closed;if(e.statusValidate=!1,e.change=!0,!(e.pointsPares.length>=r.length||"conection"!=e.state||Boolean(e.preDefPoint)||Boolean(e.preDefPar))){var l=.15;if(null==o)(firstPoint=t)[0].setAttribute({strokeColor:"gray",size:10,label:{color:"violet"}});else if(o[0].id===t[0].id)o[0].setAttribute({strokeColor:a.strokeColor,size:8,label:{color:"black"}}),o=null,defRemoveState(e);else{for(var i=[o,t].sort(function(e,t){return e[3]-t[3]}),s=(t[0].setAttribute({strokeColor:a.strokeColor,size:8,label:{color:"black"}}),o[0].setAttribute({strokeColor:a.strokeColor,size:8,label:{color:"black"}}),[]),c=i[0][3];c<=i[1][3];c+=.25)s.push([c==i[0][3]?i[0][3]+.05:c+.25>=i[1][3]?i[1][3]:c,c==i[0][3]||c+.25<=i[0][3]||c+.25>=i[1][3]?0:l]),l*=-1;e.others.push(e.board.create("cardinalspline",[s,0,"centripetal"],{layer:2,strokeColor:r[e.pointsPares.length],strokeWidth:1.5,createPoints:!1})),e.pointsPares.push(i),firstPoint=null,defRemoveState(e),e.statusValidate=!1}}}function defCorrectionInputs(e,t,o){var n=/(∞\+|\+∞)/g,r=/^\(\d+[,]\d+\)∩r$|^\(\d+[,]\d+\)∩\(-∞,(∞|∞\+|\+∞)\)$|^\(\d+[,]\d+\)$/g,a={"left\\(":"(","right\\)":")",lbrack:"[",rbrack:"]",lbrace:"{",rbrace:"}",infty:"∞",emptyset:"∅",cup:"∪",cap:"∩",le:"≤",ge:"≥","^^^^2260":"≠",lparen:"(",rparen:")",textbraceleft:"{",textbraceright:"}"};if(o.equalMatch){var o=latexClear(t,a).toLowerCase().replace(new RegExp("[' ']","g"),"");if(null!==o.match(r)&&o.match(r)[0].replace(new RegExp("[()]","g"),"").split("∩")[0].split(","))return(o=o.match(r)[0].replace(new RegExp("[()]","g"),"").split("∩")[0].split(","))[0]==o[1]?(t.classList.remove("failed"),t.classList.add("pass"),!0):(t.classList.remove("pass"),t.classList.add("failed"),!1);if(e){if(!e.includes(latexClear(t,a).replace(new RegExp("[' ']","g"),"").replace(n,"∞").toLocaleLowerCase()))return t.classList.remove("pass"),t.classList.add("failed"),!1;t.classList.remove("failed"),t.classList.add("pass")}}else if(e){if(!e.includes(latexClear(t,a).replace(new RegExp("[' ']","g"),"").replace(n,"∞").toLocaleLowerCase()))return t.classList.value.includes("failed")?t.classList.toggle("bounce"):(t.classList.remove("pass"),t.classList.add("failed")),!1;t.classList.value.includes("pass")?t.classList.toggle("bounce"):(t.classList.remove("failed"),t.classList.add("pass"))}return!0}function defResponsibe(){var e=document.querySelectorAll(".artifacts"),t=document.documentElement.clientWidth;"desktop"===siteMode&&t<800&&e.forEach(function(e){siteMode="movile";var t=e.querySelector(".divEngInt1"),o=e.querySelector(".divEngInt2");t.classList.remove("inpEngInt-1"),o.classList.remove("inpEngInt-1"),t.classList.add("inpEngInt-2"),o.classList.add("inpEngInt-2"),e.querySelector(".containerTow").appendChild(t),e.querySelector(".containerTow").appendChild(o)}),"movile"===siteMode&&800<t&&e.forEach(function(e){siteMode="desktop";var t=e.querySelector(".divEngInt1"),o=e.querySelector(".divEngInt2");t.classList.remove("inpEngInt-2"),o.classList.remove("inpEngInt-2"),t.classList.add("inpEngInt-1"),o.classList.add("inpEngInt-1"),e.querySelector(".containerOne").appendChild(t),e.querySelector(".containerOne").appendChild(o)})}function cleanData(e,t){var o=e.inputLeft,n=e.pointsPares,r=e.floatPoint,a={typeArtifact:"Standard"},t=t.split("_");return a.artifact=Number(t[t.length-1]),a.results=e.dataInteraction,a.elementArtifact=_objectSpread({},cleamBoardsPoints(r,n)),e.interval&&e.representation||(a.elementArtifact.inputsValues={},e.interval||(a.elementArtifact.inputsValues.inpEngInt1=e.inputLeft.value),e.representation)||(a.elementArtifact.inputsValues.inpEngInt2=e.inputRight.value),e.comment&&(delete a.results,a.typeArtifact="Yellow",a.comments={input_1:o.value}),a}function cleamBoardsPoints(e,t){return{cleamPoints:e.map(function(e){return[e[0].id,e[3],e[1]._value,e[2]]}),cleamPar:t.map(function(e){return[e[0][0].id,e[1][0].id]})}}function keyboardCustom(t,o){var n={MG_KEYBOARD_LAYER:{numeros:{rows:[[],[{label:"1",key:"1"},{label:"2",key:"2"},{label:"3",key:"3"},{label:"4",key:"4"},{label:"5",key:"5"},{class:"action",label:"<svg><use xlink:href='#svg-arrow-left' /></svg>",command:["performWithFeedback","moveToPreviousChar"]},{class:"action",label:"<svg><use xlink:href='#svg-arrow-right' /></svg>",command:["performWithFeedback","moveToNextChar"]}],[{label:"6",key:"6"},{label:"7",key:"7"},{label:"8",key:"8"},{label:"9",key:"9"},{label:"0",key:"0"},{label:"&#9141;",key:" "},{class:"action font-glyph bottom right",label:"&#x232b;",command:["performWithFeedback","deleteBackward"]}],[{label:"-",key:"-"},{label:"+",key:"+"},{label:"/",key:"/"},{label:".",key:"."},{label:",",key:","},{label:";",key:";"},{}]]},agrupaciones:{rows:[[],[{label:"(",key:"("},{label:"[",key:"["},{label:"{",key:"{"},{label:"<",key:"<"},{label:">",key:">"},{label:"=",key:"="}],[{label:")",key:")"},{label:"]",key:"]"},{label:"}",key:"}"},{label:"≤",key:"≤"},{label:"≥",key:"≥"},{label:"&#8800;",key:"&ne;"}],[{label:"&#9141;",key:" "},{class:"action",label:"<svg><use xlink:href='#svg-arrow-left' /></svg>",command:["performWithFeedback","moveToPreviousChar"]},{class:"action",label:"<svg><use xlink:href='#svg-arrow-right' /></svg>",command:["performWithFeedback","moveToNextChar"]},{class:"action font-glyph bottom right",label:"&#x232b;",command:["performWithFeedback","deleteBackward"]}]]},conjuntos:{rows:[[],[{label:"a",key:"a"},{label:"i",key:"i"},{label:"x",key:"x"},{label:"y",key:"y"},{label:"o",key:"o"},{label:"t",key:"t"},{label:"u",key:"u"}],[{label:"c",key:"c"},{label:"v",key:"v"},{label:"b",key:"b"},{label:"s",key:"s"},{label:"r",key:"r"},{class:"action",label:"<svg><use xlink:href='#svg-arrow-left' /></svg>",command:["performWithFeedback","moveToPreviousChar"]},{class:"action",label:"<svg><use xlink:href='#svg-arrow-right' /></svg>",command:["performWithFeedback","moveToNextChar"]}],[{label:"∅",key:"∅"},{label:"∪",key:"∪"},{label:"∩",key:"∩"},{label:"R",key:"R"},{label:"∞",key:"∞"},{label:"&#9141;",key:" "},{class:"action font-glyph bottom right",label:"&#x232b;",command:["performWithFeedback","deleteBackward"]}]]}},MG_KEYBOARD:{numeros:{label:"Números",layer:"numeros"},agrupaciones:{label:"Agrupaciones",layer:"agrupaciones"},conjuntos:{label:"Conjuntos",layer:"conjuntos"}},virtualKeyboards:"numeros  agrupaciones conjuntos"};return o.addEventListener("input",function(e){t.statusValidate=!1,t.change=!0,gTime(t)}),o.addEventListener("keydown",function(e){e.preventDefault(),e.target.blur()}),o.addEventListener("focus",function(e){document.querySelectorAll("math-field").forEach(function(e){e.blur()}),e.target.setOptions({customVirtualKeyboardLayers:n.MG_KEYBOARD_LAYER,customVirtualKeyboards:n.MG_KEYBOARD,virtualKeyboards:n.virtualKeyboards}),"colorInput"!==o.classList.value&&e.target.executeCommand(["switch-mode","text"]),t.modeText&&e.target.executeCommand(["switch-mode","text"])}),o}function interactionKeyboard(t,e){window.addEventListener("click",function(e){"MATH-FIELD"===e.target.tagName&&defButtonToggle(t)}),e.addEventListener("click",function(e){e.target.classList.value.includes("buttonTool")&&(e.target!=t.buttonActive&&null!=t.buttonActive&&defButtonToggle(t),e.target.dataset.tool==t.state?defButtonToggle(t):(t.buttonActive=e.target,t.state=t.buttonActive.dataset.tool,t.buttonActive.classList.add("buttonDownActive")))})}function defRemoveState(e){null!=e.buttonActive&&(e.buttonActive.classList.remove("buttonDownActive"),e.buttonActive=null,e.state=null)}function defButtonToggle(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",n=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];e.state!=o?(null==e.buttonActive||e.buttonActive.classList.contains("curve")||e.buttonActive.classList.toggle("buttonDownActive"),e.state=o,null==(e.buttonActive=t)?(e.state="",e.buttonActive=null):n&&e.buttonActive.classList.toggle("buttonDownActive")):null==e.buttonActive||e.buttonActive.classList.contains("curve")||(e.buttonActive.classList.toggle("buttonDownActive"),e.buttonActive=null,e.state="")}function latexClear(e,t){return(null!==e.getAttribute("default-mode")?e.value.replace(/(\\text{|})/gi,"").replace(/(lbrack|lbrace|rbrace|rbrack|right\)|left\(|infty|emptyset|cup|cap|le|ge|\^\^\^\^2260|lparen|rparen|textbraceleft|textbraceright)/g,function(e){return t[e]}).replace(/\\/gi,""):e.getValue("ascii-math").replace(/(lbrack|lbrace|rbrace|rbrack|right\)|left\()/gi,function(e){return t[e]})).replace(/[\\]|[\$]/g,"").replace(/\(([-\d.]+)\)/g,"$1").replace(new RegExp("[' ']","g"),"").replace(/\"/g,"").replace(/-/g,"−").toLocaleLowerCase()}function styleMath(e){e._mathfield.element.style.width="100%",e._mathfield.element.style.height="100%",e._mathfield.element.childNodes[1].style.cssText="justify-content: center;",e._mathfield.element.childNodes[1].childNodes[0].style.cssText="justify-content: center; font-weight: bolder;"}window.addEventListener("resize",defResponsibe);